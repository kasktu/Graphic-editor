!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var i,n=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function h(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,h)}l((i=i.apply(e,t||[])).next())}))};class o{constructor(){}static getInstance(){return o.instance||(o.instance=new o),o.instance}registerFactory(e,t){r.register(e,t)}get(){return new Promise((e,t)=>{fetch(o._URL_,{method:"GET"}).then(t=>{const s=t.text();console.log("ApiService::get(): TEXT => "+s),e(s)}).catch(e=>t(e))})}store(e,t,s,i){return n(this,void 0,void 0,(function*(){if(!e||!i)return Promise.resolve({value:"-1",error:"MISSING PARAMETERS"});const n={method:"POST",body:JSON.stringify({cmd:"store",acc:e,fnm:t,dt:s,fig:r.arrayToJSON(i)}),headers:{"Content-Type":"application/json"}},h=new Request(o._URL_,n);return(yield fetch(h)).json()}))}list(e){return n(this,void 0,void 0,(function*(){if(!e)return Promise.resolve({value:"",dt:"",error:"NO ACCOUNT PROVIDED"});const t={method:"POST",body:JSON.stringify({cmd:"list",acc:e,dt:""}),headers:{"Content-Type":"application/json"}},s=new Request(o._URL_,t);return(yield fetch(s)).json()}))}load(e,t){return n(this,void 0,void 0,(function*(){if(!e||!t)return Promise.resolve([]);const s={method:"POST",body:JSON.stringify({cmd:"load",acc:e,fnm:t}),headers:{"Content-Type":"application/json"}},i=new Request(o._URL_,s);return(yield fetch(i)).json().then(e=>{if(e.error)return console.error("ApiService::load(): ERROR => "+e.error),[];console.info("ApiService::load(): READ => "+e.value);const t=[];return JSON.parse(e.value).figures.forEach(e=>{const s=r.fromJSON(e);s&&t.push(s)}),t})}))}}o._URL_="https://ungrid.unal.edu.co/ge";class r{static register(e,t){r.classMap.set(e,t)}static getFactory(e){return r.classMap.get(e)}static toJSON(e){let t=`{ "clazz": "${e.name}"`;return t+=', "object": '+JSON.stringify(e),t+=" }",t}static arrayToJSON(e){let t='{ "figures": [';return e.forEach((s,i)=>{t+=r.toJSON(s),i<e.length-1&&(t+=",")}),t+="] }",t}static fromJSON(e){const t=r.getFactory(e.clazz);if(console.log(e.clazz),t){return t.create(e.object)}alert(`ERROR => ${e.clazz} CLASS FACTORY NOT REGISTERED!`)}}r.classMap=new Map,function(e){e[e.ADD_FIGURE=0]="ADD_FIGURE",e[e.REM_FIGURE=1]="REM_FIGURE",e[e.SELECTION=2]="SELECTION",e[e.UN_SELECTION=3]="UN_SELECTION",e[e.SAVE=4]="SAVE",e[e.LOAD=5]="LOAD",e[e.GROUPED=6]="GROUPED",e[e.UNGRUPED=7]="UNGRUPED",e[e.RUN=8]="RUN",e[e.MOVE=9]="MOVE",e[e.COPY=10]="COPY"}(i||(i={}));var h,l,c=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function h(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,h)}l((i=i.apply(e,t||[])).next())}))};class a{constructor(){this.listeners=[],this.figures=[],this.copiedfigure=[],this.name=null}copy(){this.figures.forEach(e=>{e.selected&&this.copiedfigure.push(e)}),this.notifyListeners(i.COPY)}notifyListeners(e){this.listeners.forEach(t=>t.onDrawingChange(e))}addListener(e){e&&this.listeners.push(e)}remListener(e){e&&(this.listeners=this.listeners.filter(t=>t!=e))}paint(e){console.log(this.figures),this.figures.forEach(t=>t.paint(e))}cut(){this.figures.forEach(e=>{e.selected&&this.remFigure(e)})}group(){let e;this.figures.forEach((t,s)=>{t.selected&&(console.log("figura n°"+s),e?(console.log("añadiendo figura al child"),e.addChild(t),console.log("quitando figura de figures"),this.remFigure(t)):e=t)}),e.getUnionBoundBox(),this.notifyListeners(i.GROUPED)}unGroup(){}move(){this.notifyListeners(i.MOVE)}run(){this.notifyListeners(i.RUN)}numSelected(){let e=0;return this.figures.forEach(t=>{t.select&&(e+=1)}),e}selectAll(){this.figures.forEach(e=>e.selected=!0),this.notifyListeners(i.SELECTION)}deselectAll(){this.figures.forEach(e=>e.selected=!1),this.notifyListeners(i.UN_SELECTION)}select(e,t){this.deselectAll();for(let s=this.figures.length-1;s>=0;s--){const i=this.figures[s];if(i.select(e,t),i.selected&&null==t)break}this.notifyListeners(i.SELECTION)}addFigure(e){this.figures.push(e),this.notifyListeners(i.ADD_FIGURE)}remFigure(e){let t=this.figures.filter(t=>t!=e);console.log(t),this.figures=t,this.notifyListeners(i.REM_FIGURE)}getControlPoint(e){let t;for(let s=this.figures.length-1;s>=0;s--){const i=this.figures[s];if(i.selected&&(t=i.getControlPoint(e),t))break}return t}getSelectedFigure(e){for(let t=this.figures.length-1;t>=0;t--){const s=this.figures[t];if(s.selected&&s.contains(e))return s}}getCopiedFigures(){let e=[];for(let t=this.copiedfigure.length-1;t>=0;t--){const s=this.copiedfigure[t];e.push(s)}return e}clear(){this.figures=[]}save(e,t,s){return c(this,void 0,void 0,(function*(){const n=o.getInstance(),r=yield n.store(e,t,s,this.figures);return r.error?(console.error("Drawing::save(): ERROR => "+r.error),!1):!!r.value&&(console.log("Drawing::save(): BYTES WRITTEN => "+r.value),this.notifyListeners(i.SAVE),!0)}))}list(e){return c(this,void 0,void 0,(function*(){const t=o.getInstance(),s=yield t.list(e);if(s.error&&console.error("Drawing::list(): ERROR => "+s.error),console.log("Result:"+s.value),s.value){const e=[];return JSON.parse(s.value).forEach(t=>{e.push(t)}),e}}))}open(e,t){return c(this,void 0,void 0,(function*(){const s=o.getInstance();return yield s.load(e,t).then(e=>(this.figures=e,this.notifyListeners(i.LOAD),this.figures.length>0)).catch(e=>(alert("Drawing::open(): ERROR => "+e.message),!1))}))}}!function(e){e[e.SET_TOOL=0]="SET_TOOL"}(h||(h={}));class u{onAppChange(e){e==h.SET_TOOL&&this.changeTool()}changeTool(e){let t=null;e?t=e:G.getActiveTool(),console.log(t),t.includes("LineCreationTool")?(this.disableTools(),G.setActiveTool(C),this.line.setAttribute("toggled","true")):t.includes("RectCreationTool")?(this.disableTools(),G.setActiveTool(R),this.rect.setAttribute("toggled","true")):t.includes("EllipseCreationTool")?(this.disableTools(),G.setActiveTool(P),this.elli.setAttribute("toggled","true")):t.includes("TextCreationTool")?(this.disableTools(),G.setActiveTool(N),this.text.setAttribute("toggled","true")):t.includes("SelectionTool")&&(this.disableTools(),G.setActiveTool(U),this.sele.setAttribute("toggled","true"))}onDrawingChange(e){if(e==i.RUN)this.openRecent.setAttribute("disabled","true"),this.group.setAttribute("disabled","true"),this.unGroup.setAttribute("disabled","true"),this.cut.setAttribute("disabled","true"),this.copy.setAttribute("disabled","true"),this.paste.setAttribute("disabled","true");else if(e===i.SELECTION){const e=G.numSelected();this.cut.removeAttribute("disabled"),this.copy.removeAttribute("disabled"),e>1?this.group.removeAttribute("disabled"):this.group.setAttribute("disabled","true")}else if(e==i.UN_SELECTION)this.cut.setAttribute("disabled","true"),this.copy.setAttribute("disabled","true"),this.group.setAttribute("disabled","true"),this.unGroup.setAttribute("disabled","true");else if(e==i.LOAD){this.openRecent.removeAttribute("disabled");var t=G.getDocumentName();this.doc1.innerHTML!=t&&(this.doc3.innerHTML=this.doc2.innerHTML,this.doc2.innerHTML=this.doc1.innerHTML,this.doc1.innerHTML=t)}else e==i.COPY?this.paste.removeAttribute("disabled"):(this.cut.setAttribute("disabled","true"),this.copy.setAttribute("disabled","true"),this.group.setAttribute("disabled","true"),this.unGroup.setAttribute("disabled","true"))}static getInstance(){return this}disableTools(){try{this.line.removeAttribute("toggled"),this.rect.removeAttribute("toggled"),this.elli.removeAttribute("toggled"),this.text.removeAttribute("toggled"),this.sele.removeAttribute("toggled")}catch(e){console.error(e)}}init(){this.app=M.getInstance(),this.app.addListener(this);const e=document.getElementById("new");e&&e.addEventListener("click",()=>G.clear()),this.open=document.getElementById("open"),this.open&&this.open.addEventListener("click",()=>G.open()),this.openRecent=document.getElementById("open-recent"),this.doc1=document.getElementById("Doc_1"),this.doc1&&this.doc1.addEventListener("click",()=>G.openDocument(this.doc1.innerHTML)),this.doc2=document.getElementById("Doc_2"),this.doc2&&this.doc2.addEventListener("click",()=>G.openDocument(this.doc2.innerHTML)),this.doc3=document.getElementById("Doc_3"),this.doc3&&this.doc3.addEventListener("click",()=>G.openDocument(this.doc3.innerHTML)),this.save=document.getElementById("save"),this.save&&this.save.addEventListener("click",()=>G.save()),this.saveas=document.getElementById("saveas"),this.saveas&&this.saveas.addEventListener("click",()=>G.saveas()),this.line=document.getElementById("line"),this.line&&this.line.addEventListener("click",()=>{this.changeTool("LineCreationTool")}),this.rect=document.getElementById("rect"),this.rect&&this.rect.addEventListener("click",()=>{this.changeTool("RectCreationTool")}),this.elli=document.getElementById("elli"),this.elli&&this.elli.addEventListener("click",()=>{this.changeTool("EllipseCreationTool")}),this.text=document.getElementById("text"),this.text&&this.text.addEventListener("click",()=>{this.changeTool("TextCreationTool")}),this.sele=document.getElementById("sele"),this.sele&&this.sele.addEventListener("click",()=>{this.changeTool("SelectionTool")}),this.test=document.getElementById("test"),this.test&&this.test.addEventListener("click",()=>G.testBackEnd()),this.list=document.getElementById("list"),this.list&&this.list.addEventListener("click",()=>G.list()),this.cut=document.getElementById("cut"),this.cut&&this.cut.addEventListener("click",()=>G.cut()),this.copy=document.getElementById("copy"),this.copy&&this.copy.addEventListener("click",()=>G.copy()),this.paste=document.getElementById("paste"),this.paste&&this.paste.addEventListener("click",()=>G.paste()),this.group=document.getElementById("group"),this.group&&this.group.addEventListener("click",()=>G.group()),this.unGroup=document.getElementById("ungroup"),this.unGroup&&this.unGroup.addEventListener("click",()=>G.ungroup()),this.line.setAttribute("toggled","true")}}!function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"}(l||(l={}));class d{constructor(e){this.cardinal=e}paint(e,t){const s=this.getPosition(t);e.fillStyle=g.color,e.fillRect(s.x-d.HSIZE,s.y-d.HSIZE,2*d.HSIZE,2*d.HSIZE)}contains(e,t){const s=this.getPosition(t),i=s.x-d.HSIZE,n=s.x+d.HSIZE,o=s.y-d.HSIZE,r=s.y+d.HSIZE;return i<=e.offsetX&&e.offsetX<=n&&o<=e.offsetY&&e.offsetY<=r}getCursor(){switch(this.cardinal){case l.EAST:return"e-resize";case l.NORTH:return"n-resize";case l.NORTH_EAST:return"ne-resize";case l.NORTH_WEST:return"nw-resize";case l.SOUTH:return"s-resize";case l.SOUTH_EAST:return"se-resize";case l.SOUTH_WEST:return"sw-resize";case l.WEST:return"w-resize"}}move(e,t,s){switch(this.cardinal){case l.SOUTH:s.resize(0,t,!0,!0);break;case l.NORTH:s.resize(0,t,!0,!1);break;case l.EAST:s.resize(e,0,!0,!0);break;case l.WEST:s.resize(e,0,!1,!0);break;case l.SOUTH_EAST:s.resize(e,t,!0,!0);break;case l.SOUTH_WEST:s.resize(e,t,!1,!0);break;case l.NORTH_EAST:s.resize(e,t,!0,!1);break;case l.NORTH_WEST:s.resize(e,t,!1,!1)}}getPosition(e){let t=0,s=0;switch(this.cardinal){case l.SOUTH:t=e.x+e.w/2,s=e.y+e.h;break;case l.NORTH:t=e.x+e.w/2,s=e.y;break;case l.EAST:t=e.x+e.w,s=e.y+e.h/2;break;case l.WEST:t=e.x,s=e.y+e.h/2;break;case l.NORTH_EAST:t=e.x+e.w,s=e.y;break;case l.NORTH_WEST:t=e.x,s=e.y;break;case l.SOUTH_WEST:t=e.x,s=e.y+e.h;break;case l.SOUTH_EAST:t=e.x+e.w,s=e.y+e.h}return{x:t,y:s}}}d.HSIZE=4;class f{static colorAsString(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")"}}class g{constructor(e,t){this.position=e,this.size=t}paint(e){e.strokeStyle=g.color,e.beginPath(),e.rect(this.position.x,this.position.y,this.size.w,this.size.h),e.stroke()}get x(){return this.position.x}get y(){return this.position.y}get w(){return this.size.w}get h(){return this.size.h}select(e,t){return t?this.contained(e,t):this.contains(e)}contains(e){const t=this.x-d.HSIZE,s=this.x+this.w+d.HSIZE,i=this.y-d.HSIZE,n=this.y+this.h+d.HSIZE;return t<=e.offsetX&&e.offsetX<=s&&i<=e.offsetY&&e.offsetY<=n}move(e,t){this.position.x+=e,this.position.y+=t}moveTo(e,t){this.position.x=e,this.position.y=t}resize(e,t,s,i){s?this.size.w+=e:s||(this.position.x+=e,this.size.w-=e),i?this.size.h+=t:i||(this.position.y+=t,this.size.h-=t)}contained(e,t){var s,i,n,o;return e.clientX>t.clientX?(s=t.clientX,n=e.clientX):(s=e.clientX,n=t.clientX),e.clientY>t.clientY?(i=t.clientY,o=e.clientY):(i=e.clientY,o=t.clientY),s<this.x&&this.x+this.w<n&&i<this.y&&this.y+this.h<o}}g.color=f.colorAsString({r:28,g:116,b:232,a:255});class b{onMouseDown(e,t){this.evDown=e,this.startFeedback(e,t)}onMouseUp(e,t){this.evDown?(this.evUp=e,this.processMouseUp(t),this.evDown=null,this.endFeedback()):console.warn("Tool::onMouseUp() => OUT OF SEQUENCE")}paste(e){this.processMouseUp(e)}onMouseMove(e,t){this.evDown?(G.clearFeedbackContext(),this.showFeedback(G.getFeedbackContext(),e)):t?(G.clearFeedbackContext(),this.showFeedback(G.getFeedbackContext(),e,t)):G.setCursor(this.getCursor(e))}equal(e,t){return e.offsetX===t.offsetX&&e.offsetY===t.offsetY}startFeedback(e,t){const s=G.getFeedbackContext();s.strokeStyle=f.colorAsString({r:28,g:116,b:232,a:255}),s.fillStyle=f.colorAsString({r:28,g:116,b:232,a:100})}endFeedback(){G.clearFeedbackContext()}getCursor(e){return"default"}}class v extends b{processMouseUp(e){if("TextCreationTool"!=this.getName()&&this.equal(this.evDown,this.evUp))return;const t=this.createFigure(e);t?G.addFigure(t):console.error("FIGURE CREATION FAILED")}}class p{constructor(e,t,s){this.bbox=e,this.LineStyle=t,this.LineStroke=s,this.children=[],this._selected=!1,0===p.ctrlPoints.length&&this.addControlPoints()}getUnionBoundBox(){let e,t,s,i;this.bbox.w<0?(e=this.bbox.x+this.bbox.w,i=Math.abs(this.bbox.w)):(e=this.bbox.x,i=this.bbox.w),this.bbox.h<0?(t=this.bbox.y+this.bbox.h,s=Math.abs(this.bbox.h)):(t=this.bbox.y,s=this.bbox.h);let n=e,o=t,r=e+i,h=t+s;this.children.forEach(e=>{let t,s,i,l;e.bbox.w<0?(t=e.bbox.x+e.bbox.w,l=Math.abs(e.bbox.w)):(t=e.bbox.x,l=e.bbox.w),e.bbox.h<0?(s=e.bbox.y+e.bbox.h,i=Math.abs(e.bbox.h)):(s=e.bbox.y,i=e.bbox.h),t<n&&(n=t),s<o&&(o=s);let c=t+l,a=s+i;c>r&&(r=c),a>h&&(h=a),e.selected=!1}),this.gbbox=new g({x:n,y:o},{w:r-n,h:h-o}),p.ctrlPoints.forEach(e=>p.ctrlPoints.shift()),this.addControlPoints()}addChild(e){this.children.push(e)}flushChildren(e){this.children.forEach(t=>e.push(t)),this.children=[]}get selected(){return this._selected}set selected(e){this._selected=e}paint(e){this.doPaint(e),this.children.forEach(t=>t.paint(e)),this.selected&&(this.gbbox?(this.gbbox.paint(e),p.ctrlPoints.forEach(t=>t.paint(e,this.gbbox))):(this.bbox.paint(e),p.ctrlPoints.forEach(t=>t.paint(e,this.bbox))))}select(e,t){this.selected=this.bbox.select(e,t)}contains(e){return this.gbbox?this.gbbox.contains(e):this.bbox.contains(e)}getControlPoint(e){for(let t=0;t<p.ctrlPoints.length;t++){const s=p.ctrlPoints[t];if(s.contains(e,this.bbox))return s}}move(e,t){this.gbbox?(this.gbbox.move(e,t),this.bbox.move(e,t),this.children.forEach(s=>{s.bbox.move(e,t)})):this.bbox.move(e,t)}resize(e,t,s,i){this.gbbox?(this.gbbox.resize(e,t,s,i),this.bbox.resize(e,t,s,i),this.children.forEach(n=>{n.bbox.resize(e,t,s,i)})):this.bbox.resize(e,t,s,i)}get x(){return this.bbox.x}get y(){return this.bbox.y}get w(){return this.bbox.w}get h(){return this.bbox.h}toJSON(){return{bbox:this.bbox,LineStyle:this.LineStyle,LineStroke:this.LineStroke}}addControlPoints(){Object.keys(l).map(e=>{const t=Number(e);isNaN(t)||p.ctrlPoints.push(new d(t))})}}p.ctrlPoints=[];class E extends p{constructor(e,t,s,i,n){super(e,s,i),this.bbox=e,this.lineThickness=t,this.lineStyle=s,this.lineStroke=i,this.lineDash=n}}class w extends E{constructor(e,t,s,i,n){super(e,t,s,i,n)}get name(){return w.className}get _lineWidth(){return this.lineThickness}set _lineWidth(e){this.lineThickness=e}get _lineStyle(){return this._lineStyle}set _lineStyle(e){this._lineStyle=e}doPaint(e){e.strokeStyle=f.colorAsString(this.lineStroke),e.beginPath(),e.moveTo(this.bbox.x,this.bbox.y),e.lineTo(this.bbox.x+this.bbox.w,this.bbox.y+this.bbox.h),e.stroke()}}w.className="Line";o.getInstance().registerFactory(w.className,new class{create(e){return new w(new g({x:e.bbox.position.x,y:e.bbox.position.y},{w:e.bbox.size.w,h:e.bbox.size.h}),1,e.LineStyle,e.LineStroke,[])}});class x extends v{getName(){return"LineCreationTool"}showFeedback(e,t,s){s?(e.beginPath(),e.moveTo(t.offsetX,t.offsetY),e.lineTo(t.offsetX+s.h,t.offsetY+s.w),e.stroke()):(e.beginPath(),e.moveTo(this.evDown.offsetX,this.evDown.offsetY),e.lineTo(t.offsetX,t.offsetY),e.stroke())}createFigure(e){return new w(e?new g({x:this.evUp.offsetX,y:this.evUp.offsetY},{w:e.w,h:e.h}):new g({x:this.evDown.offsetX,y:this.evDown.offsetY},{w:this.evUp.clientX-this.evDown.clientX,h:this.evUp.clientY-this.evDown.clientY}),1,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},[])}}class m extends E{constructor(e,t,s,i,n,o){super(e,t,s,i,o),this.bbox=e,this.lineThickness=t,this.lineStyle=s,this.lineStroke=i,this.fillColor=n,this.lineDash=o,this._fill=!1}get fill(){return this._fill}set fill(e){this._fill=e}}class T extends m{constructor(e,t,s,i,n,o){super(e,t,s,i,n,o)}get name(){return T.className}get _lineWidth(){return this.lineThickness}set _lineWidth(e){this.lineThickness=e}get _lineStyle(){return this._lineStyle}set _lineStyle(e){this._lineStyle=e}doPaint(e){e.strokeStyle=f.colorAsString(this.lineStroke),e.lineWidth=this.lineThickness,e.beginPath(),e.setLineDash(this.lineDash),e.rect(this.bbox.x,this.bbox.y,this.bbox.w,this.bbox.h),e.stroke(),this._fill&&(e.fillStyle=f.colorAsString(this.fillColor),e.fill())}}T.className="Rectangle";o.getInstance().registerFactory(T.className,new class{create(e){return new T(new g({x:e.bbox.x,y:e.bbox.y},{w:e.bbox.w,h:e.bbox.h}),1,e.LineStyle,e.LineStroke,e.color,[])}});class y extends v{getName(){return"RectCreationTool"}showFeedback(e,t,s){s?(e.beginPath(),e.setLineDash([]),e.rect(t.offsetX,t.offsetY,t.offsetX+s.h,t.offsetY+s.w),e.stroke()):(e.beginPath(),e.setLineDash([]),e.rect(this.evDown.offsetX,this.evDown.offsetY,t.offsetX-this.evDown.offsetX,t.offsetY-this.evDown.offsetY),e.stroke())}createFigure(e){return new T(e?new g({x:this.evUp.offsetX,y:this.evUp.offsetY},{w:e.w,h:e.h}):new g({x:this.evDown.offsetX,y:this.evDown.offsetY},{w:this.evUp.clientX-this.evDown.clientX,h:this.evUp.clientY-this.evDown.clientY}),1,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},[])}}class S extends m{constructor(e,t,s,i,n,o){super(e,t,s,i,n,o)}get name(){return S.className}get _lineWidth(){return this.lineThickness}set _lineWidth(e){this.lineThickness=e}get _lineStyle(){return this._lineStyle}set _lineStyle(e){this._lineStyle=e}doPaint(e){e.strokeStyle=f.colorAsString(this.lineStroke),e.lineWidth=this.lineThickness,e.setLineDash(this.lineDash),e.beginPath(),e.ellipse(this.bbox.x+this.bbox.w/2,this.bbox.y+this.bbox.h/2,Math.abs(this.bbox.w/2),Math.abs(this.bbox.h/2),0,0,2*Math.PI),e.stroke(),this._fill&&(e.fillStyle=f.colorAsString(this.fillColor),e.fill())}}S.className="Ellipse";o.getInstance().registerFactory(S.className,new class{create(e){return new S(new g({x:e.bbox.x,y:e.bbox.y},{w:e.bbox.w,h:e.bbox.h}),1,e.LineStyle,e.LineStroke,e.color,[])}});class D extends v{getName(){return"EllipseCreationTool"}showFeedback(e,t){var s=t.offsetX-this.evDown.clientX,i=t.offsetY-this.evDown.offsetY;e.beginPath(),e.ellipse(this.evDown.offsetX+s/2,this.evDown.offsetY+i/2,Math.abs(s/2),Math.abs(i/2),0,0,2*Math.PI),e.stroke()}createFigure(e){if(e)return new S(new g({x:this.evUp.offsetX,y:this.evUp.offsetY},{w:e.w,h:e.h}),1,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},[]);var t=this.evUp.offsetY-this.evDown.offsetY,s=this.evUp.offsetX-this.evDown.offsetX;return new S(new g({x:this.evDown.offsetX,y:this.evDown.offsetY},{w:s,h:t}),1,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255},[])}}class _ extends p{constructor(e,t,s,i){super(t,s,i),this.bbox=t,this.LineStyle=s,this.LineStroke=i,this._font="",this._text=this.text,this._selected=!1,this._text=e}get name(){return _.className}get font(){return this._font}set font(e){this._font=e}get selected(){return this._selected}set selected(e){this._selected=e}get text(){return this._text}set text(e){this._text=e}doPaint(e){e.font=this._font,e.fillStyle=f.colorAsString(this.LineStyle),e.fillText(this._text,this.bbox.x,this.bbox.y),this.selected&&this.bbox.paint(e),e.stroke()}}_.className="Text";o.getInstance().registerFactory(_.className,new class{create(e){return new _(e._text,new g({x:e.bbox.x,y:e.bbox.y},{w:e.bbox.w,h:e.bbox.h}),e.LineStyle,e.LineStroke)}});class A extends v{getName(){return"TextCreationTool"}showFeedback(e,t){e.fillText("Text",t.offsetX,t.offsetY)}createFigure(e){if(e)return new _(e.text,new g({x:this.evUp.offsetX,y:this.evUp.offsetY},{w:e.w,h:e.h}),{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255});{const e=prompt("Ingrese el texto");if(null!=e&&""!=e)return new _(e,new g({x:this.evUp.offsetX,y:this.evUp.offsetY},{w:this.evUp.clientX-this.evDown.clientX,h:this.evUp.clientY-this.evDown.clientY}),{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:255})}}}class k extends b{getName(){return"SelectionTool"}getCursor(e){return this.fCtrlPoint=G.getControlPoint(e),this.fSelected=G.getSelectedFigure(e),this.fCtrlPoint?this.fCtrlPoint.getCursor():this.fSelected?"move":super.getCursor(e)}showFeedback(e,t){this.fCtrlPoint?this.moveControlPoint(t):this.fSelected?this.moveSelected(t):this.drawFeedback(e,t)}drawFeedback(e,t){e.beginPath(),e.rect(this.evDown.offsetX,this.evDown.offsetY,t.offsetX-this.evDown.offsetX,t.offsetY-this.evDown.offsetY),e.fill(),e.stroke()}processMouseUp(){this.fSelected||this.fCtrlPoint||(this.equal(this.evDown,this.evUp)?G.select(this.evUp):G.select(this.evDown,this.evUp)),this.cleanUp()}cleanUp(){this.fSelected=null,this.fCtrlPoint=null}moveSelected(e){this.fSelected.move(e.offsetX-this.evDown.offsetX,e.offsetY-this.evDown.offsetY),this.evDown=e,G.move()}moveControlPoint(e){this.fCtrlPoint.move(e.offsetX-this.evDown.offsetX,e.offsetY-this.evDown.offsetY,this.fSelected),this.evDown=e,G.move()}}class I{constructor(){this.menu=new u,this.canvas=new O,this.feedback=new F}paste(){G.getCopiedFigures().forEach(e=>{this.feedback.createFigure(e)})}onDrawingChange(e){this.canvas.repaint()}getActiveTool(){return this.feedback.getActiveTool()}init(){const e=M.getInstance();this.menu.init(),this.canvas.init(),this.feedback.init(),this.setActiveTool(C),e.addListener(this)}getContext(){return this.canvas.getContext()}getFeedback(){return this.feedback.getContext()}clearFeedback(){this.feedback.clear()}setCursor(e){this.feedback.setCursor(e)}setActiveTool(e){this.feedback.setActiveTool(e)}}class L{constructor(){this.htmlElement=document.createElement("canvas"),this.htmlElement.width=L.PAGE_WIDTH,this.htmlElement.height=L.PAGE_HEIGHT,this.htmlElement.style.position="absolute",this.htmlElement.style.left="0",this.htmlElement.style.top="28px",this.htmlElement.style.width=L.PAGE_WIDTH+"px",this.htmlElement.style.height=L.PAGE_HEIGHT+"px";const e=document.getElementById("content");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width=L.PAGE_WIDTH+"px",e.style.height=L.PAGE_HEIGHT+"px",e.appendChild(this.htmlElement),this.ctx=this.htmlElement.getContext("2d")}getContext(){return this.ctx}get width(){return this.htmlElement.width}get height(){return this.htmlElement.height}}L.PAGE_WIDTH=2e3,L.PAGE_HEIGHT=2e3;class O extends L{constructor(){super()}onDrawingChange(e){e!=i.SAVE&&this.repaint()}init(){const e=M.getInstance();this.htmlElement.style.backgroundColor="#FAFAFA",e.addListener(this)}repaint(){this.drawGrid(this.ctx),M.getInstance().paint(this.ctx)}clear(e){e.fillStyle=this.htmlElement.style.backgroundColor,e.fillRect(0,0,this.width,this.height)}drawGrid(e){if(e){this.clear(e),e.lineWidth=1,e.strokeStyle=O.GRID_COLOR;const t=this.width/O.GRID_SIZE,s=this.height/O.GRID_SIZE;for(let s=1;s<t;s++)e.beginPath(),e.moveTo(s*O.GRID_SIZE,0),e.lineTo(s*O.GRID_SIZE,L.PAGE_HEIGHT),e.stroke();for(let t=1;t<s;t++)e.beginPath(),e.moveTo(0,t*O.GRID_SIZE),e.lineTo(L.PAGE_WIDTH,t*O.GRID_SIZE),e.stroke()}}}O.GRID_SIZE=100,O.GRID_COLOR="#DDD0DD";const C=0,R=1,P=2,N=3,U=4;class F extends L{constructor(){super(),this.create=!1,this.tools=[]}createFigure(e){this.figure=e,this.create=!0}getActiveTool(){return this.activeTool.getName.toString()}init(){this.buildTools(),this.htmlElement.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.htmlElement.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.htmlElement.addEventListener("mouseup",this.pasteMouse.bind(this)),this.htmlElement.addEventListener("mousemove",this.handleMouseMove.bind(this)),window.addEventListener("keydown",this.handleKeyPressed.bind(this))}setActiveTool(e){console.log("TOOL => "+e),this.activeTool=this.tools[e],M.getInstance().setDocumentTitle("",this.activeTool.getName())}clear(){this.getContext();this.ctx.clearRect(0,0,this.width,this.height)}setCursor(e){this.htmlElement.style.cursor=e}buildTools(){this.tools[C]=new x,this.tools[R]=new y,this.tools[P]=new D,this.tools[N]=new A,this.tools[U]=new k}handleMouseDown(e){e.y>28&&this.activeTool.onMouseDown(e)}pasteMouse(e){e.y>28&&this.activeTool.onMouseMove(e,this.figure)}handleMouseUp(e){this.activeTool.onMouseUp(e)}handleMouseMove(e){this.activeTool.onMouseMove(e)}handleKeyPressed(e){console.log(e.code),e.ctrlKey?(e.preventDefault(),"KeyS"==e.code?G.save():"KeyH"==e.code&&G.group()):"KeyL"===e.code?this.setActiveTool(C):"KeyR"===e.code?this.setActiveTool(R):"KeyE"===e.code?this.setActiveTool(P):"KeyT"===e.code?this.setActiveTool(N):"KeyS"===e.code&&this.setActiveTool(U)}}var H=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function h(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,h)}l((i=i.apply(e,t||[])).next())}))};class M{constructor(){this.listeners=[],this.drawing=new a,this.mainWindow=new I,this.title=document.title="Graphics Editor v0.14"}getCopiedFigures(){return this.drawing.getCopiedFigures()}notifyListeners(e){this.listeners.forEach(t=>t.onAppChange(e))}addListenerApp(e){e&&this.listeners.push(e)}remListener(e){e&&(this.listeners=this.listeners.filter(t=>t!=e))}getDocumentName(){return this.title}openDocument(e){this.drawing.open(M._MY_ID_,e),this.title=e}ungroup(){this.drawing.unGroup()}cut(){this.drawing.cut()}paste(){this.mainWindow.paste()}copy(){this.drawing.copy()}numSelected(){return this.drawing.numSelected()}onDrawingChange(e){e==i.LOAD?this.setDocumentTitle("",""):e!=i.SAVE&&this.setDocumentTitle("*","")}static getInstance(){return M.instance||(M.instance=new M),M.instance}run(){this.mainWindow.init(),this.drawing.run()}addListener(e){this.drawing.addListener(e)}paint(e){this.drawing.paint(e)}select(e,t){this.drawing.select(e,t)}move(){this.drawing.move()}addFigure(e){this.drawing.addFigure(e)}group(){this.drawing.group()}setActiveTool(e){this.mainWindow.setActiveTool(e),this.notifyListeners(h.SET_TOOL)}getActiveTool(){return this.mainWindow.getActiveTool()}setDocumentTitle(e,t){document.title=e+this.title+"-"+t}getGraphicsContext(){return this.mainWindow.getContext()}getFeedbackContext(){return this.mainWindow.getFeedback()}clearFeedbackContext(){this.mainWindow.clearFeedback()}setCursor(e){this.mainWindow.setCursor(e)}getControlPoint(e){return this.drawing.getControlPoint(e)}getSelectedFigure(e){return this.drawing.getSelectedFigure(e)}clear(){this.drawing.clear()}testBackEnd(){this.testServlet()}saveas(){return H(this,void 0,void 0,(function*(){this.title=prompt("Nombre del documento");var e=this.drawing.list(M._MY_ID_),t=!1,s=this.actualDate.toString();do{console.log(t),(yield e).forEach(e=>{e==this.title&&(t=!0)}),null==this.title?t=!1:t&&(this.title=prompt("Archivo Existente\nIngrese otro nombre"))}while(t);null!=this.title&&this.drawing.save(M._MY_ID_,this.title,s).then(e=>{e||console.error("App::save() => FAILED")})}))}save(){return H(this,void 0,void 0,(function*(){if("Graphics Editor v0.14"==this.title)this.saveas();else{var e=this.actualDate.toString();null!=this.title&&this.drawing.save(M._MY_ID_,this.title,e).then(e=>{e||console.error("App::save() => FAILED")})}}))}actualDate(){const e=Date.now();return new Date(e)}list(){return H(this,void 0,void 0,(function*(){return this.drawing.list(M._MY_ID_).then(e=>{if(e)return e;console.error("Drawing::list() => FAILED")})}))}open(){return H(this,void 0,void 0,(function*(){var e,t=this.list(),s=!0;this.title;do{var i="Lista de Documentos:";(yield t).forEach((e,t)=>{i+="\n"+t+" "+e}),e=prompt(i);var n=Number(e);(n!=(yield t).length||null==this.title)&&(s=!1)}while(s);do{(yield t).forEach((e,t)=>{t==n&&(this.title=e)})}while(s);this.drawing.open(M._MY_ID_,this.title),document.title=this.title}))}deselectAll(){this.drawing.deselectAll()}testServlet(){o.getInstance().get().then(e=>{alert("App::test(): GET => "+e)}).catch(e=>{alert("App::test(): ERROR => "+e.message)})}}M._MY_ID_="1007651264";const Y=M.getInstance();Y.run();var G=t.default=Y}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2RyYXdpbmctbGlzdGVuZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvYXBpLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvYXBwLWxpc3RlbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9jb250cm9sLXBvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9kcmF3aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L21lbnUtaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlsL2NvbG9yLWhlbHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvYm91bmQtYm94LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3Rvb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvY3JlYXRpb24tdG9vbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvZmlndXJlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9nZW9tLWZpZ3VyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvbGluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9saW5lLWNyZWF0aW9uLXRvb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2Nsb3NlZC1maWd1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9yZWN0YW5nbGUtY3JlYXRpb24tdG9vbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvZWxsaXBzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9lbGxpcHNlLWNyZWF0aW9uLXRvb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvdGV4dC1jcmVhdGlvbi10b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3NlbGVjdGlvbi10b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L21haW4td2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJEcmF3aW5nRXZlbnQiLCJBcGlTZXJ2aWNlIiwiaW5zdGFuY2UiLCJjbGF6eiIsImZhY3RvcnkiLCJGaWd1cmVGYWN0b3J5IiwicmVnaXN0ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwiX1VSTF8iLCJtZXRob2QiLCJ0aGVuIiwicmVzIiwidGV4dCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiYWNjb3VudCIsImZuYW1lIiwiZGF0ZSIsImZpZ3VyZXMiLCJvcHRpb25zIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbWQiLCJhY2MiLCJmbm0iLCJkdCIsImZpZyIsImFycmF5VG9KU09OIiwiaGVhZGVycyIsInJlcXVlc3QiLCJSZXF1ZXN0IiwianNvbiIsImluZm8iLCJwYXJzZSIsImZvckVhY2giLCJmIiwiZnJvbUpTT04iLCJwdXNoIiwiY3RvciIsImNsYXNzTWFwIiwic2V0IiwiZmEiLCJpZHgiLCJ0b0pTT04iLCJsZW5ndGgiLCJnZXRGYWN0b3J5IiwiYWxlcnQiLCJNYXAiLCJBcHBFdmVudCIsIkNhcmRpbmFsIiwibGlzdGVuZXJzIiwiY29waWVkZmlndXJlIiwidGhpcyIsInNlbGVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiQ09QWSIsImRlIiwiZGwiLCJvbkRyYXdpbmdDaGFuZ2UiLCJmaWx0ZXIiLCJlIiwiY3R4IiwicGFpbnQiLCJyZW1GaWd1cmUiLCJwYXJlbnQiLCJpbmRleCIsImFkZENoaWxkIiwiZ2V0VW5pb25Cb3VuZEJveCIsIkdST1VQRUQiLCJNT1ZFIiwiUlVOIiwiU2VsZWN0ZWQiLCJzZWxlY3QiLCJTRUxFQ1RJT04iLCJVTl9TRUxFQ1RJT04iLCJldkRvd24iLCJldlVwIiwiZGVzZWxlY3RBbGwiLCJ1bmRlZmluZWQiLCJBRERfRklHVVJFIiwibmV3RmlndXJlcyIsIml0ZW0iLCJSRU1fRklHVVJFIiwiZXYiLCJjcCIsImdldENvbnRyb2xQb2ludCIsImNvbnRhaW5zIiwiRmlncyIsImFwaSIsImdldEluc3RhbmNlIiwicmVzdWx0Iiwic3RvcmUiLCJTQVZFIiwibGlzdCIsImZuYW1lcyIsImxvYWQiLCJMT0FEIiwibWVzc2FnZSIsIlNFVF9UT09MIiwiY2hhbmdlVG9vbCIsIm5ld1Rvb2wiLCJ0b29sIiwiZ2V0QWN0aXZlVG9vbCIsImluY2x1ZGVzIiwiZGlzYWJsZVRvb2xzIiwic2V0QWN0aXZlVG9vbCIsIkxJTkVfQ1JFQVRJT04iLCJsaW5lIiwic2V0QXR0cmlidXRlIiwiUkVDVF9DUkVBVElPTiIsInJlY3QiLCJFTExJX0NSRUFUSU9OIiwiZWxsaSIsIlRFWFRfQ1JFQVRJT04iLCJzZWxlIiwiZXZlbnQiLCJvcGVuUmVjZW50IiwiZ3JvdXAiLCJ1bkdyb3VwIiwiY3V0IiwiY29weSIsInBhc3RlIiwibnVtU2VsZWN0ZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkb2NOYW1lIiwiZ2V0RG9jdW1lbnROYW1lIiwiZG9jMSIsImlubmVySFRNTCIsImRvYzMiLCJkb2MyIiwiYXBwIiwiYWRkTGlzdGVuZXIiLCJjbGVhciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwib3BlbiIsIm9wZW5Eb2N1bWVudCIsInNhdmUiLCJzYXZlYXMiLCJ0ZXN0IiwidGVzdEJhY2tFbmQiLCJ1bmdyb3VwIiwiY2FyZGluYWwiLCJvd25lciIsInBvcyIsImdldFBvc2l0aW9uIiwiZmlsbFN0eWxlIiwiY29sb3IiLCJmaWxsUmVjdCIsIngiLCJIU0laRSIsInkiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJvZmZzZXRYIiwib2Zmc2V0WSIsIkVBU1QiLCJOT1JUSCIsIk5PUlRIX0VBU1QiLCJOT1JUSF9XRVNUIiwiU09VVEgiLCJTT1VUSF9FQVNUIiwiU09VVEhfV0VTVCIsIldFU1QiLCJkeCIsImR5IiwicmVzaXplIiwidyIsImgiLCJDb2xvckhlbHBlciIsImciLCJiIiwiYSIsInBvc2l0aW9uIiwic2l6ZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiY29udGFpbmVkIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsImNsaWVudFgiLCJjbGllbnRZIiwiY29sb3JBc1N0cmluZyIsInN0YXJ0RmVlZGJhY2siLCJwcm9jZXNzTW91c2VVcCIsImVuZEZlZWRiYWNrIiwid2FybiIsImNsZWFyRmVlZGJhY2tDb250ZXh0Iiwic2hvd0ZlZWRiYWNrIiwiZ2V0RmVlZGJhY2tDb250ZXh0Iiwic2V0Q3Vyc29yIiwiZ2V0Q3Vyc29yIiwiZXYxIiwiZXYyIiwiZ2V0TmFtZSIsImVxdWFsIiwiY3JlYXRlRmlndXJlIiwiYWRkRmlndXJlIiwiYmJveCIsIkxpbmVTdHlsZSIsIkxpbmVTdHJva2UiLCJjaGlsZHJlbiIsIl9zZWxlY3RlZCIsImN0cmxQb2ludHMiLCJhZGRDb250cm9sUG9pbnRzIiwiZlgiLCJmWSIsImZIIiwiZlciLCJNYXRoIiwiYWJzIiwiWCIsIlkiLCJIIiwiVyIsImdiYm94Iiwic2hpZnQiLCJkb1BhaW50IiwibW92ZSIsImtleXMiLCJtYXAiLCJOdW1iZXIiLCJpc05hTiIsImxpbmVUaGlja25lc3MiLCJsaW5lU3R5bGUiLCJsaW5lU3Ryb2tlIiwibGluZURhc2giLCJzdXBlciIsImNsYXNzTmFtZSIsIm5ld1RpY2tuZXNzIiwiX2xpbmVTdHlsZSIsIm5ld1N0eWxlIiwibW92ZVRvIiwibGluZVRvIiwicmVnaXN0ZXJGYWN0b3J5IiwiZmlsbENvbG9yIiwiX2ZpbGwiLCJsaW5lV2lkdGgiLCJzZXRMaW5lRGFzaCIsImZpbGwiLCJlbGxpcHNlIiwiUEkiLCJzaXplWSIsInNpemVYIiwiX2ZvbnQiLCJfdGV4dCIsIm5ld0ZvbnQiLCJuZXdUZXh0IiwiZm9udCIsImZpbGxUZXh0IiwicHJvbXB0IiwiZkN0cmxQb2ludCIsImZTZWxlY3RlZCIsImdldFNlbGVjdGVkRmlndXJlIiwibW92ZUNvbnRyb2xQb2ludCIsIm1vdmVTZWxlY3RlZCIsImRyYXdGZWVkYmFjayIsImNsZWFuVXAiLCJtZW51IiwiY2FudmFzIiwiZmVlZGJhY2siLCJnZXRDb3BpZWRGaWd1cmVzIiwicmVwYWludCIsImluaXQiLCJnZXRDb250ZXh0IiwiY3Vyc29yIiwiQ2FudmFzIiwiaHRtbEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJQQUdFX1dJRFRIIiwiaGVpZ2h0IiwiUEFHRV9IRUlHSFQiLCJzdHlsZSIsImNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImJhY2tncm91bmRDb2xvciIsImRyYXdHcmlkIiwiR1JJRF9DT0xPUiIsIm51bVZlcnRpY2FscyIsIkdSSURfU0laRSIsIm51bUhvcml6b250YWxzIiwidiIsInRvb2xzIiwiZmlndXJlIiwiYWN0aXZlVG9vbCIsInRvU3RyaW5nIiwiYnVpbGRUb29scyIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZU1vdXNlVXAiLCJwYXN0ZU1vdXNlIiwiaGFuZGxlTW91c2VNb3ZlIiwid2luZG93IiwiaGFuZGxlS2V5UHJlc3NlZCIsInNldERvY3VtZW50VGl0bGUiLCJjbGVhclJlY3QiLCJvbk1vdXNlRG93biIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwia2UiLCJjb2RlIiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwiZHJhd2luZyIsIm1haW5XaW5kb3ciLCJ0aXRsZSIsImFlIiwiYWwiLCJvbkFwcENoYW5nZSIsIl9NWV9JRF8iLCJydW4iLCJCZWZvcmUiLCJhZnRlciIsImdldEZlZWRiYWNrIiwiY2xlYXJGZWVkYmFjayIsInRlc3RTZXJ2bGV0IiwiZXhpc3RlIiwiYWN0dWFsRGF0ZSIsImVsZW1lbnQiLCJ0aWVtcG9UcmFuc2N1cnJpZG8iLCJEYXRlIiwibm93IiwibmFtZUluZGV4IiwidmFjaW8iLCJuYW1lcyIsIm5pbmRleCIsInJlYWQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxH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elEsRUFBTSxJQUFJbVEsSUFFMUJJLEVBQVV4RSxPQUFPMEUsR0FDakIsSUFBS0MsRUFBY3hHLE9BQU9xRyxJQUN0QkcsVUFBZTdPLEdBQVFsRCxRQUVMLE1BQVpRLEtBQUttUSxTQURYa0IsR0FBTSxTQUlQQSxHQUVQLFVBQ1czTyxHQUFRNUQsUUFBUSxDQUFDa1MsRUFBUW5RLEtBQ3pCQSxHQUFPMFEsSUFDTnZSLEtBQUttUSxNQUFNYSxXQUloQkssR0FDUHJSLEtBQUtpUSxRQUNBN0ssS0FDRyxFQUFJbUwsUUFDSnZRLEtBQUttUSxPQUdibEwsU0FBU2tMLE1BQU1uUSxLQUFLbVEsU0FJeEIsY0FDSW5RLEtBQUtpUSxRQUNBeE8sY0FNQyxjQUNrQmxGLEVBQVc4RixjQUUvQmxILE1BRUhnQyxLQUFPcVUsSUFDSjlSLE1BQ0ksdUJBQXVCOFIsS0FHOUJoVSxNQUFRQyxJQUNMaUMsTUFDSSx5QkFBeUJqQyxFQUFNb0YsWUF6SjNCLEVBQUEwTixRQUFrQixhQ3ROdEMsTUFBTSxFQUFNLEVBQUlsTyxjQUNoQixFQUFJbU8sTUFFVyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgZW51bSBEcmF3aW5nRXZlbnQge1xyXG4gICAgQUREX0ZJR1VSRSxcclxuICAgIFJFTV9GSUdVUkUsXHJcbiAgICBTRUxFQ1RJT04sXHJcbiAgICBVTl9TRUxFQ1RJT04sXHJcbiAgICBTQVZFLFxyXG4gICAgTE9BRCxcclxuICAgIEdST1VQRUQsXHJcbiAgICBVTkdSVVBFRCxcclxuICAgIFJVTixcclxuICAgIE1PVkUsXHJcbiAgICBDT1BZXHJcbn0iLCJpbXBvcnQgeyBcclxuICAgIEZhY3RvcnksIFxyXG4gICAgRmlndXJlLCBcclxufSBmcm9tICcuLi9tb2RlbC9maWd1cmUnO1xyXG5cclxuaW50ZXJmYWNlIEpzb25GaWd1cmUge1xyXG4gICAgY2xheno6IHN0cmluZztcclxuICAgIG9iamVjdDogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRmlndXJlRG9jIHtcclxuICAgIGZpZ3VyZXM6IEpzb25GaWd1cmVbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFwaVNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEFwaVNlcnZpY2U7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBzaW5nbGV0b25cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQXBpU2VydmljZSB7XHJcbiAgICAgICAgaWYgKCBBcGlTZXJ2aWNlLmluc3RhbmNlICkge1xyXG4gICAgICAgICAgICAvLyBOT09QXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBBcGlTZXJ2aWNlLmluc3RhbmNlID0gbmV3IEFwaVNlcnZpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyRmFjdG9yeShcclxuICAgICAgICBjbGF6ejogc3RyaW5nLFxyXG4gICAgICAgIGZhY3Rvcnk6IEZhY3RvcnkgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIEZpZ3VyZUZhY3RvcnkucmVnaXN0ZXIoXHJcbiAgICAgICAgICAgIGNsYXp6LCBcclxuICAgICAgICAgICAgZmFjdG9yeVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IF9VUkxfOiBzdHJpbmcgPSAnaHR0cHM6Ly91bmdyaWQudW5hbC5lZHUuY28vZ2UnO1xyXG5cclxuICAgIC8vIE5vdGU6IFByb21pc2Ugc3RhcnRzIGluIEVTNiAoc2VlIHRzY29uZmlnLmpzb24pIFxyXG4gICAgZ2V0KCk6IFByb21pc2U8c3RyaW5nPiB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZldGNoKFxyXG4gICAgICAgICAgICAgICAgQXBpU2VydmljZS5fVVJMXywgICAvLyBVbmlmb3JtIFJlc291cmNlIExvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLnRoZW4oIChyZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByOiBhbnkgPSByZXMudGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgICAgIGBBcGlTZXJ2aWNlOjpnZXQoKTogVEVYVCA9PiAke3J9YFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKFxyXG4gICAgICAgICAgICAgICAgICAgIHJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCggKGVycm9yKSA9PlxyXG4gICAgICAgICAgICAgICAgcmVqZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJucyAjIG9mIGJ5dGVzIHNlbnQgKH53cml0dGVuKVxyXG4gICAgYXN5bmMgc3RvcmUoXHJcbiAgICAgICAgYWNjb3VudDogc3RyaW5nLFxyXG4gICAgICAgIGZuYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgZGF0ZTpTdHJpbmcsXHJcbiAgICAgICAgZmlndXJlczogRmlndXJlW10gKTogUHJvbWlzZTx7dmFsdWU6IHN0cmluZzsgZXJyb3I6IHN0cmluZ30+IHtcclxuXHJcbiAgICAgICAgaWYgKCAhYWNjb3VudCB8fCAhZmlndXJlcyApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogJy0xJyxcclxuICAgICAgICAgICAgICAgIGVycm9yOiAnTUlTU0lORyBQQVJBTUVURVJTJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgY21kOiAnc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgYWNjOiBhY2NvdW50LFxyXG4gICAgICAgICAgICAgICAgZm5tOiBmbmFtZSxcclxuICAgICAgICAgICAgICAgIGR0OiBkYXRlLFxyXG4gICAgICAgICAgICAgICAgZmlnOiBGaWd1cmVGYWN0b3J5LmFycmF5VG9KU09OKFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZ3VyZXNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IFJlcXVlc3RJbmZvID0gbmV3IFJlcXVlc3QoXHJcbiAgICAgICAgICAgIEFwaVNlcnZpY2UuX1VSTF8sIFxyXG4gICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICAgIHJlcXVlc3RcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxpc3QoXHJcbiAgICAgICAgYWNjb3VudDogc3RyaW5nKTogUHJvbWlzZTx7dmFsdWU6IHN0cmluZzsgZXJyb3I6IHN0cmluZyxkdDpzdHJpbmd9PiB7XHJcblxyXG4gICAgICAgIGlmICggIWFjY291bnQgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgZHQ6JycsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ05PIEFDQ09VTlQgUFJPVklERUQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRlOlN0cmluZz1cIlwiO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgY21kOiAnbGlzdCcsXHJcbiAgICAgICAgICAgICAgICBhY2M6IGFjY291bnQsXHJcbiAgICAgICAgICAgICAgICBkdDpkYXRlXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0OiBSZXF1ZXN0SW5mbyA9IG5ldyBSZXF1ZXN0KFxyXG4gICAgICAgICAgICBBcGlTZXJ2aWNlLl9VUkxfLCBcclxuICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICAgIHJlcXVlc3RcclxuICAgICAgICApO1xyXG4gICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkKFxyXG4gICAgICAgIGFjY291bnQ6IHN0cmluZyxcclxuICAgICAgICBmbmFtZTogc3RyaW5nICk6IFByb21pc2U8RmlndXJlW10+IHtcclxuXHJcbiAgICAgICAgaWYgKCAhYWNjb3VudCB8fCAhZm5hbWUgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXHJcbiAgICAgICAgICAgICAgICBbXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgY21kOiAnbG9hZCcsXHJcbiAgICAgICAgICAgICAgICBhY2M6IGFjY291bnQsXHJcbiAgICAgICAgICAgICAgICBmbm06IGZuYW1lLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdDogUmVxdWVzdEluZm8gPSBuZXcgUmVxdWVzdChcclxuICAgICAgICAgICAgQXBpU2VydmljZS5fVVJMXywgXHJcbiAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgICAgICByZXF1ZXN0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICAudGhlbiggKGpzb246IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgganNvbi5lcnJvciApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgQXBpU2VydmljZTo6bG9hZCgpOiBFUlJPUiA9PiAke2pzb24uZXJyb3J9YFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYEFwaVNlcnZpY2U6OmxvYWQoKTogUkVBRCA9PiAke2pzb24udmFsdWV9YFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlndXJlczogRmlndXJlW10gPSBbXHJcbiAgICAgICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZkb2M6IEZpZ3VyZURvYyA9IEpTT04ucGFyc2UoXHJcbiAgICAgICAgICAgICAgICAgICAganNvbi52YWx1ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmZG9jLmZpZ3VyZXNcclxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCggKGpzb246IEpzb25GaWd1cmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZjogRmlndXJlIHwgdW5kZWZpbmVkID0gRmlndXJlRmFjdG9yeS5mcm9tSlNPTihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBmICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWd1cmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRmlndXJlRmFjdG9yeSB7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNsYXNzTWFwOiBNYXA8c3RyaW5nLCBGYWN0b3J5PiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBzdGF0aWMgcmVnaXN0ZXIoXHJcbiAgICAgICAgY2xheno6IHN0cmluZyxcclxuICAgICAgICBjdG9yOiBGYWN0b3J5ICk6IHZvaWQge1xyXG5cclxuICAgICAgICBGaWd1cmVGYWN0b3J5LmNsYXNzTWFwXHJcbiAgICAgICAgICAgIC5zZXQoXHJcbiAgICAgICAgICAgICAgICBjbGF6eixcclxuICAgICAgICAgICAgICAgIGN0b3JcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RmFjdG9yeShcclxuICAgICAgICBjbGF6ejogc3RyaW5nICk6IEZhY3RvcnkgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICByZXR1cm4gRmlndXJlRmFjdG9yeS5jbGFzc01hcFxyXG4gICAgICAgICAgICAuZ2V0KFxyXG4gICAgICAgICAgICAgICAgY2xhenpcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9KU09OKFxyXG4gICAgICAgIGY6IEZpZ3VyZSApOiBzdHJpbmcge1xyXG5cclxuICAgICAgICBsZXQgcjogc3RyaW5nID0gYHsgXCJjbGF6elwiOiBcIiR7Zi5uYW1lfVwiYDtcclxuXHJcbiAgICAgICAgciArPSBgLCBcIm9iamVjdFwiOiAke0pTT04uc3RyaW5naWZ5KCBmICl9YDtcclxuICAgICAgICByICs9ICcgfSc7XHJcblxyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhcnJheVRvSlNPTihcclxuICAgICAgICBmYTogRmlndXJlW10gKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgbGV0IHI6IHN0cmluZyA9ICd7IFwiZmlndXJlc1wiOiBbJztcclxuXHJcbiAgICAgICAgZmEuZm9yRWFjaCggKGY6IEZpZ3VyZSwgaWR4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgciArPSBGaWd1cmVGYWN0b3J5LnRvSlNPTihcclxuICAgICAgICAgICAgICAgIGZcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKCBpZHggPCBmYS5sZW5ndGggLSAxICkge1xyXG4gICAgICAgICAgICAgICAgciArPSAnLCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgciArPSAnXSB9JztcclxuXHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21KU09OKFxyXG4gICAgICAgIGpzb246IEpzb25GaWd1cmUgKTogRmlndXJlIHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgY29uc3QgZmFjdG9yeTogRmFjdG9yeSB8IHVuZGVmaW5lZCA9IEZpZ3VyZUZhY3RvcnkuZ2V0RmFjdG9yeShcclxuICAgICAgICAgICAganNvbi5jbGF6elxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coanNvbi5jbGF6eilcclxuICAgICAgICBpZiAoIGZhY3RvcnkgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGY6IEZpZ3VyZSA9IGZhY3RvcnkuY3JlYXRlKFxyXG4gICAgICAgICAgICAgICAganNvbi5vYmplY3RcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICAgICAgICBgRVJST1IgPT4gJHtqc29uLmNsYXp6fSBDTEFTUyBGQUNUT1JZIE5PVCBSRUdJU1RFUkVEIWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBlbnVtIEFwcEV2ZW50IHtcclxuXHJcbiAgICBTRVRfVE9PTFxyXG59IiwiaW1wb3J0IHsgR3JhcGhpY3NPYmplY3QsIFBvc2l0aW9uIH0gZnJvbSAnLi9ncmFwaGljcy1vYmplY3QnO1xyXG5pbXBvcnQgeyAgQm91bmRCb3ggfSBmcm9tICcuL2JvdW5kLWJveCc7XHJcbmltcG9ydCB7IEZpZ3VyZSB9IGZyb20gJy4vZmlndXJlJztcclxuXHJcbmV4cG9ydCBlbnVtIENhcmRpbmFsIHtcclxuICAgIE5PUlRILFxyXG4gICAgTk9SVEhfRUFTVCxcclxuICAgIEVBU1QsXHJcbiAgICBTT1VUSF9FQVNULFxyXG4gICAgU09VVEgsXHJcbiAgICBTT1VUSF9XRVNULFxyXG4gICAgV0VTVCxcclxuICAgIE5PUlRIX1dFU1RcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xQb2ludCBcclxuICAgIGltcGxlbWVudHMgR3JhcGhpY3NPYmplY3Qge1xyXG4gICAgXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgSFNJWkU6IG51bWJlciA9IDQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBjYXJkaW5hbDogQ2FyZGluYWwgKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnQoIFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIG93bmVyOiBCb3VuZEJveCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zOiBQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIG93bmVyXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IEJvdW5kQm94LmNvbG9yO1xyXG5cclxuICAgICAgICBjdHguZmlsbFJlY3QoIFxyXG4gICAgICAgICAgICBwb3MueCAtIENvbnRyb2xQb2ludC5IU0laRSwgcG9zLnkgLSBDb250cm9sUG9pbnQuSFNJWkUsIFxyXG4gICAgICAgICAgICAyICogQ29udHJvbFBvaW50LkhTSVpFLCAyICogQ29udHJvbFBvaW50LkhTSVpFIFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBjb250YWlucyhcclxuICAgICAgICBldjogTW91c2VFdmVudCxcclxuICAgICAgICBvd25lcjogQm91bmRCb3ggKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvczogUG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICBvd25lclxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnQ6ICAgbnVtYmVyID0gcG9zLnggLSBDb250cm9sUG9pbnQuSFNJWkU7XHJcbiAgICAgICAgY29uc3QgcmlnaHQ6ICBudW1iZXIgPSBwb3MueCArIENvbnRyb2xQb2ludC5IU0laRTtcclxuICAgICAgICBjb25zdCB0b3A6ICAgIG51bWJlciA9IHBvcy55IC0gQ29udHJvbFBvaW50LkhTSVpFO1xyXG4gICAgICAgIGNvbnN0IGJvdHRvbTogbnVtYmVyID0gcG9zLnkgKyBDb250cm9sUG9pbnQuSFNJWkU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gbGVmdCA8PSBldi5vZmZzZXRYICYmIGV2Lm9mZnNldFggPD0gcmlnaHRcclxuICAgICAgICAgICAgJiYgdG9wIDw9IGV2Lm9mZnNldFkgJiYgZXYub2Zmc2V0WSA8PSBib3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3Vyc29yKCk6IHN0cmluZyB7XHJcbiAgICBcclxuICAgICAgICAvLyBUT0RPOiBjb21wbGV0ZSBzd2l0Y2hcclxuXHJcbiAgICAgICAgc3dpdGNoICggdGhpcy5jYXJkaW5hbCApIHtcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5FQVNUOiAgICAgICByZXR1cm4gJ2UtcmVzaXplJztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5OT1JUSDogICAgICByZXR1cm4gJ24tcmVzaXplJztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5OT1JUSF9FQVNUOiByZXR1cm4gJ25lLXJlc2l6ZSc7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuTk9SVEhfV0VTVDogcmV0dXJuICdudy1yZXNpemUnO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIOiAgICAgIHJldHVybiAncy1yZXNpemUnO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIX0VBU1Q6IHJldHVybiAnc2UtcmVzaXplJztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5TT1VUSF9XRVNUOiByZXR1cm4gJ3N3LXJlc2l6ZSc7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuV0VTVDogICAgICAgcmV0dXJuICd3LXJlc2l6ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoXHJcbiAgICAgICAgZHg6IG51bWJlciwgXHJcbiAgICAgICAgZHk6IG51bWJlcixcclxuICAgICAgICBvd25lcjogRmlndXJlICk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRPRE86IGNvbXBsZXRlIHN3aXRjaFxyXG5cclxuICAgICAgICBzd2l0Y2ggKCB0aGlzLmNhcmRpbmFsICkge1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIOlxyXG4gICAgICAgICAgICAgICAgb3duZXIucmVzaXplKCBcclxuICAgICAgICAgICAgICAgICAgICAwLCBkeSx0cnVlLHRydWUgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuTk9SVEg6XHJcbiAgICAgICAgICAgICAgICBvd25lci5yZXNpemUoIFxyXG4gICAgICAgICAgICAgICAgICAgIDAsIGR5LHRydWUsZmFsc2UgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuRUFTVDpcclxuICAgICAgICAgICAgICAgIG93bmVyLnJlc2l6ZSggXHJcbiAgICAgICAgICAgICAgICAgICAgZHgsIDAsdHJ1ZSx0cnVlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuV0VTVDpcclxuICAgICAgICAgICAgICAgIG93bmVyLnJlc2l6ZSggXHJcbiAgICAgICAgICAgICAgICAgICAgZHgsIDAsZmFsc2UsdHJ1ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIX0VBU1Q6XHJcbiAgICAgICAgICAgICAgICBvd25lci5yZXNpemUoIFxyXG4gICAgICAgICAgICAgICAgICAgIGR4LCBkeSx0cnVlLHRydWVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIX1dFU1Q6XHJcbiAgICAgICAgICAgICAgICBvd25lci5yZXNpemUoIFxyXG4gICAgICAgICAgICAgICAgICAgIGR4LCBkeSxmYWxzZSx0cnVlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztjYXNlIENhcmRpbmFsLk5PUlRIX0VBU1Q6XHJcbiAgICAgICAgICAgICAgICBvd25lci5yZXNpemUoIFxyXG4gICAgICAgICAgICAgICAgICAgIGR4LCBkeSx0cnVlLGZhbHNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5OT1JUSF9XRVNUOlxyXG4gICAgICAgICAgICAgICAgb3duZXIucmVzaXplKCBcclxuICAgICAgICAgICAgICAgICAgICBkeCwgZHksZmFsc2UsZmFsc2VcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIG1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBnZXRQb3NpdGlvbihcclxuICAgICAgICBvd25lcjogQm91bmRCb3ggKTogUG9zaXRpb24ge1xyXG5cclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY29tcGxldGUgc3dpdGNoXHJcblxyXG4gICAgICAgIHN3aXRjaCAoIHRoaXMuY2FyZGluYWwgKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuU09VVEg6XHJcbiAgICAgICAgICAgICAgICB4ID0gb3duZXIueCArIG93bmVyLncgLyAyO1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnkgKyBvd25lci5oO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuTk9SVEg6XHJcbiAgICAgICAgICAgICAgICB4ID0gb3duZXIueCArIG93bmVyLncgLyAyO1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5FQVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IG93bmVyLnggKyBvd25lci53O1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnkgKyBvd25lci5oLzI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5XRVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IG93bmVyLnggO1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnkgKyBvd25lci5oLzI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5OT1JUSF9FQVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IG93bmVyLnggKyBvd25lci53O1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5OT1JUSF9XRVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IG93bmVyLng7XHJcbiAgICAgICAgICAgICAgICB5ID0gb3duZXIueTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIX1dFU1Q6XHJcbiAgICAgICAgICAgICAgICB4ID0gb3duZXIueDtcclxuICAgICAgICAgICAgICAgIHkgPSBvd25lci55K293bmVyLmg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5TT1VUSF9FQVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IG93bmVyLnggKyBvd25lci53O1xyXG4gICAgICAgICAgICAgICAgeSA9IG93bmVyLnkgKyBvd25lci5oO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4LCB5XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0FwaVNlcnZpY2V9IGZyb20gJy4uL2FwaS9hcGktc2VydmljZSc7XHJcbmltcG9ydCB7Q29udHJvbFBvaW50IH0gZnJvbSAnLi9jb250cm9sLXBvaW50JztcclxuaW1wb3J0IHtGaWd1cmV9IGZyb20gJy4vZmlndXJlJztcclxuaW1wb3J0IHsgRHJhd2luZ0V2ZW50IH0gZnJvbSAnLi9kcmF3aW5nLWxpc3RlbmVycyc7XHJcbi8vIGltcG9ydCB7dW5kb0hlbHBlcn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRHJhd2luZ0xpc3RlbmVyIHtcclxuICAgIG9uRHJhd2luZ0NoYW5nZSggZXY6IERyYXdpbmdFdmVudCApOiB2b2lkO1xyXG4gICAgICAgIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd2luZyB7XHJcbiBcclxuICAgIFxyXG4gICAgLy8gcHJpdmF0ZSB1bmRvSGVscGVyOiBVbmRvSGVscGVyID0gbmV3IHVuZG9IZWxwZXIoKTtcclxuIFxyXG4gICAgLy8gdW5kbygpOiB2b2lkIHtcclxuICAgIC8vICAgICB0aGlzLnVuZG9IZWxwZXJcclxuICAgIC8vICAgICAgICAgLnVuZG8oKTtcclxuICAgIC8vIH1cclxuICBcclxuICAgIC8vIHJlZG8oKTogdm9pZCB7XHJcbiAgICAvLyAgICAgdGhpcy51bmRvSGVscGVyXHJcbiAgICAvLyAgICAgICAgIC5yZWRvKCk7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiBEcmF3aW5nTGlzdGVuZXJbXSA9IFtcclxuICAgIF07XHJcbiAgICBwcml2YXRlIGZpZ3VyZXM6IEZpZ3VyZVtdID0gW1xyXG4gICAgXTtcclxuICAgIGNvcGllZGZpZ3VyZTpGaWd1cmVbXT1bXTtcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG4gICAgY29weSgpIHtcclxuICAgICAgICB0aGlzLmZpZ3VyZXMuZm9yRWFjaCgoZjpGaWd1cmUpPT4ge2lmKGYuc2VsZWN0ZWQpe1xyXG4gICAgICAgICAgICB0aGlzLmNvcGllZGZpZ3VyZS5wdXNoKGYpO1xyXG4gICAgICAgIH19KVxyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKERyYXdpbmdFdmVudC5DT1BZKVxyXG5cclxuICAgIH1cclxuICAgIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKFxyXG4gICAgICAgIGRlOiBEcmF3aW5nRXZlbnQgKSB7XHJcbiAgXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNcclxuICAgICAgICAgICAgLmZvckVhY2goIChkbDogRHJhd2luZ0xpc3RlbmVyKSA9PlxyXG4gICAgICAgICAgICAgICAgZGwub25EcmF3aW5nQ2hhbmdlKCBcclxuICAgICAgICAgICAgICAgICAgICBkZSBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuIFxyXG4gICAgYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgZGw6IERyYXdpbmdMaXN0ZW5lciApOiB2b2lkIHtcclxuICBcclxuICAgICAgICBpZiAoIGRsICkgdGhpcy5saXN0ZW5lcnNcclxuICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICBkbFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcmVtTGlzdGVuZXIoXHJcbiAgICAgICAgZGw6IERyYXdpbmdMaXN0ZW5lciApOiB2b2lkIHtcclxuICAgICAgICBpZihkbCkgdGhpcy5saXN0ZW5lcnM9dGhpcy5saXN0ZW5lcnMuZmlsdGVyKGU9PiBlIT1kbCk7XHJcbiAgICB9XHJcbiAgICAvLyBwb2x5bW9ycGhpc20gaW4gYWN0aW9uXHJcbiAgICBwYWludChcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpZ3VyZXMpXHJcbiAgICAgICAgdGhpcy5maWd1cmVzLmZvckVhY2goIFxyXG4gICAgICAgICAgICAoZjogRmlndXJlKSA9PiBmLnBhaW50KCBjdHggKSBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgY3V0KCkge1xyXG4gICAgICAgIHRoaXMuZmlndXJlcy5mb3JFYWNoKChmOkZpZ3VyZSk9PntpZihmLnNlbGVjdGVkKXtcclxuICAgICAgICAgICAgdGhpcy5yZW1GaWd1cmUoZik7XHJcbiAgICAgICAgfX0pXHJcbiAgICB9XHJcbiAgICBncm91cCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcGFyZW50OiBGaWd1cmU7XHJcbiAgXHJcbiAgICAgICAgdGhpcy5maWd1cmVzXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKCAoZjogRmlndXJlLGluZGV4Om51bWJlcikgPT4geyAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIGYuc2VsZWN0ZWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpZ3VyYSBuwrAnK2luZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggcGFyZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYcOxYWRpZW5kbyBmaWd1cmEgYWwgY2hpbGQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdxdWl0YW5kbyBmaWd1cmEgZGUgZmlndXJlcycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtRmlndXJlKFx0Ly8gTkVXXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBmO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcGFyZW50LmdldFVuaW9uQm91bmRCb3goKTtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKERyYXdpbmdFdmVudC5HUk9VUEVEKVxyXG4gICAgfVxyXG4gICAgdW5Hcm91cCgpIHtcclxuICAgICAgICAvLyBwYXJlbnQuXHJcbiAgICAgICAgLy8gdGhpcy5maWd1cmVzXHJcbiAgICAgICAgLy8gICAgIC5mb3JFYWNoKCAoZjogRmlndXJlKSA9PiB7ICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoIHBhcmVudCApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENoaWxkKFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICApO1xyXG4gIFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBwYXJlbnQucmVtRmlndXJlKFx0Ly8gTkVXXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBwYXJlbnQgPSBmO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgIH1cclxuIFxyXG4gICAgbW92ZSgpIHtcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhEcmF3aW5nRXZlbnQuTU9WRSk7XHJcbiAgICB9XHJcbiAgICBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoRHJhd2luZ0V2ZW50LlJVTik7XHJcbiAgICB9XHJcbiAgICBudW1TZWxlY3RlZCgpIDogbnVtYmVyIHtcclxuICAgICAgICBsZXQgU2VsZWN0ZWQ9MDtcclxuICAgICAgICB0aGlzLmZpZ3VyZXMuZm9yRWFjaChmPT57aWYoZi5zZWxlY3Qpe1xyXG4gICAgICAgICAgICBTZWxlY3RlZD1TZWxlY3RlZCsxO1xyXG4gICAgfX0pO1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGwoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5maWd1cmVzLmZvckVhY2goIFxyXG4gICAgICAgICAgICAoZjogRmlndXJlKSA9PiBmLnNlbGVjdGVkID0gdHJ1ZSBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFxyXG4gICAgICAgICAgICBEcmF3aW5nRXZlbnQuU0VMRUNUSU9OXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBkZXNlbGVjdEFsbCgpIHtcclxuICAgICAgICB0aGlzLmZpZ3VyZXMuZm9yRWFjaCggXHJcbiAgICAgICAgICAgIChmOiBGaWd1cmUpID0+IGYuc2VsZWN0ZWQgPSBmYWxzZSBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFxyXG4gICAgICAgICAgICBEcmF3aW5nRXZlbnQuVU5fU0VMRUNUSU9OXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3QoIFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwPzogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlc2VsZWN0QWxsKClcclxuICAgICAgICBmb3IgKCBsZXQgaSA9IHRoaXMuZmlndXJlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcclxuICAgICAgICAgICAgY29uc3QgZjogRmlndXJlID0gdGhpcy5maWd1cmVzW1xyXG4gICAgICAgICAgICAgICAgaVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgZi5zZWxlY3QoIFxyXG4gICAgICAgICAgICAgICAgZXZEb3duLCBcclxuICAgICAgICAgICAgICAgIGV2VXAgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICggZi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZXZVcD09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vIFRPRE86IHNvbWV0aGluZyBzZWxlY3RlZD9cclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhcclxuICAgICAgICAgICAgRHJhd2luZ0V2ZW50LlNFTEVDVElPTlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgICAgICAgICBcclxuICAgIGFkZEZpZ3VyZShcclxuICAgICAgICBmOiBGaWd1cmUgKTogdm9pZCB7XHJcbiAgICBcclxuICAgICAgICB0aGlzLmZpZ3VyZXNcclxuICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICBmXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoRHJhd2luZ0V2ZW50LkFERF9GSUdVUkUpXHJcblxyXG4gICAgfVxyXG4gICAgcmVtRmlndXJlKFxyXG4gICAgICAgIGY6IEZpZ3VyZSApOiB2b2lkIHtcclxuICAgIFxyXG4gICAgICAgIGxldCBuZXdGaWd1cmVzPXRoaXMuZmlndXJlc1xyXG4gICAgICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9IGYpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ld0ZpZ3VyZXMpXHJcbiAgICAgICAgdGhpcy5maWd1cmVzPW5ld0ZpZ3VyZXM7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoRHJhd2luZ0V2ZW50LlJFTV9GSUdVUkUpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRyb2xQb2ludChcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiBDb250cm9sUG9pbnQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjcDogQ29udHJvbFBvaW50O1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQgaSA9IHRoaXMuZmlndXJlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcclxuICAgICAgICAgICAgY29uc3QgZjogRmlndXJlID0gdGhpcy5maWd1cmVzW1xyXG4gICAgICAgICAgICAgICAgaVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCBmLnNlbGVjdGVkICkge1xyXG4gICAgICAgICAgICAgICAgY3AgPSBmLmdldENvbnRyb2xQb2ludChcclxuICAgICAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGNwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY3A7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldFNlbGVjdGVkRmlndXJlKFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IEZpZ3VyZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yICggbGV0IGkgPSB0aGlzLmZpZ3VyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGY6IEZpZ3VyZSA9IHRoaXMuZmlndXJlc1tcclxuICAgICAgICAgICAgICAgIGlcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIGlmICggZi5zZWxlY3RlZCAmJiBmLmNvbnRhaW5zKCBldiApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgZ2V0Q29waWVkRmlndXJlcygpOiBGaWd1cmVbXSB7XHJcbiAgICAgICAgbGV0IEZpZ3M6RmlndXJlW109W107XHJcbiAgICAgICAgZm9yICggbGV0IGkgPSB0aGlzLmNvcGllZGZpZ3VyZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcclxuICAgICAgICAgICAgY29uc3QgZjogRmlndXJlID0gdGhpcy5jb3BpZWRmaWd1cmVbXHJcbiAgICAgICAgICAgICAgICBpXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIEZpZ3MucHVzaChmKVxyXG4gICAgICAgIH0gICBcclxuXHJcbiAgICAgICAgcmV0dXJuIEZpZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5maWd1cmVzID0gW1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FVyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIFxyXG4gICAgYXN5bmMgc2F2ZShcclxuICAgICAgICBhY2NvdW50OiBzdHJpbmcsXHJcbiAgICAgICAgZm5hbWU6IHN0cmluZyxkYXRlOlN0cmluZyApOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHJcbiAgICAgICAgY29uc3QgYXBpOiBBcGlTZXJ2aWNlID0gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQ6IHt2YWx1ZTogc3RyaW5nLCBlcnJvcjogc3RyaW5nfSA9IGF3YWl0IGFwaS5zdG9yZShcclxuICAgICAgICAgICAgYWNjb3VudCxcclxuICAgICAgICAgICAgZm5hbWUsXHJcbiAgICAgICAgICAgIGRhdGUsXHJcbiAgICAgICAgICAgIHRoaXMuZmlndXJlc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICggcmVzdWx0LmVycm9yICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgYERyYXdpbmc6OnNhdmUoKTogRVJST1IgPT4gJHtyZXN1bHQuZXJyb3J9YFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCByZXN1bHQudmFsdWUgKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgYERyYXdpbmc6OnNhdmUoKTogQllURVMgV1JJVFRFTiA9PiAke3Jlc3VsdC52YWx1ZX1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFxyXG4gICAgICAgICAgICAgICAgRHJhd2luZ0V2ZW50LlNBVkVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxpc3QoXHJcbiAgICAgICAgYWNjb3VudDogc3RyaW5nICk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuXHJcbiAgICAgICAgY29uc3QgYXBpOiBBcGlTZXJ2aWNlID0gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQ6IHt2YWx1ZTogc3RyaW5nLCBlcnJvcjogc3RyaW5nfSA9IGF3YWl0IGFwaS5saXN0KFxyXG4gICAgICAgICAgICBhY2NvdW50XHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAoIHJlc3VsdC5lcnJvciApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciggXHJcbiAgICAgICAgICAgICAgICBgRHJhd2luZzo6bGlzdCgpOiBFUlJPUiA9PiAke3Jlc3VsdC5lcnJvcn1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdWx0OlwiK3Jlc3VsdC52YWx1ZSlcclxuICAgICAgICBpZiAoIHJlc3VsdC52YWx1ZSApIHtcclxuICAgICAgICAgICAgY29uc3QgZm5hbWVzOiBzdHJpbmdbXSA9IFtcclxuICAgICAgICAgICAgXTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBuYW1lczogc3RyaW5nW10gPSBKU09OLnBhcnNlKFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBuYW1lcy5mb3JFYWNoKCAoZm5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm5hbWVzLnB1c2goIFxyXG4gICAgICAgICAgICAgICAgICAgIGZuYW1lXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBmbmFtZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9wZW4oXHJcbiAgICAgICAgYWNjb3VudDogc3RyaW5nLFxyXG4gICAgICAgIGZuYW1lOiBzdHJpbmcgKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGFwaTogQXBpU2VydmljZSA9IEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTsgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgYXBpLmxvYWQoXHJcbiAgICAgICAgICAgIGFjY291bnQsXHJcbiAgICAgICAgICAgIGZuYW1lXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKCAoZmlndXJlczogRmlndXJlW10pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5maWd1cmVzID0gZmlndXJlcztcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXHJcbiAgICAgICAgICAgICAgICBEcmF3aW5nRXZlbnQuTE9BRFxyXG4gICAgICAgICAgICApOyBcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmZpZ3VyZXMubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBhbGVydChcclxuICAgICAgICAgICAgICAgIGBEcmF3aW5nOjpvcGVuKCk6IEVSUk9SID0+ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgQXBwLCBBcHBMaXN0ZW5lciB9IGZyb20gJy4uL2NvbnRyb2xsZXIvYXBwJztcbmltcG9ydCB7IEFwcEV2ZW50IH0gZnJvbSAnLi4vY29udHJvbGxlci9hcHAtbGlzdGVuZXInO1xuaW1wb3J0IGFwcCBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBEcmF3aW5nTGlzdGVuZXIgfSBmcm9tICcuLi9tb2RlbC9kcmF3aW5nJztcbmltcG9ydCB7IERyYXdpbmdFdmVudCB9IGZyb20gJy4uL21vZGVsL2RyYXdpbmctbGlzdGVuZXJzJztcblxuXG5pbXBvcnQgeyBcbiAgICBMSU5FX0NSRUFUSU9OLFxuICAgIFJFQ1RfQ1JFQVRJT04sXG4gICAgRUxMSV9DUkVBVElPTixcbiAgICBURVhUX0NSRUFUSU9OLFxuICAgIFNFTEVDVElPTixcbn0gZnJvbSAnLi9tYWluLXdpbmRvdyc7XG5cbmV4cG9ydCBjbGFzcyBNZW51SGVscGVyIGltcGxlbWVudHMgRHJhd2luZ0xpc3RlbmVyLEFwcExpc3RlbmVye1xuICAgIGFwcDogQXBwO1xuICAgIG9wZW46IEhUTUxFbGVtZW50O1xuICAgIG9wZW5SZWNlbnQ6IEhUTUxFbGVtZW50O1xuICAgIGRvYzE6IEhUTUxFbGVtZW50O1xuICAgIGRvYzI6IEhUTUxFbGVtZW50O1xuICAgIGRvYzM6IEhUTUxFbGVtZW50O1xuICAgIHNhdmU6IEhUTUxFbGVtZW50O1xuICAgIHNhdmVhczogSFRNTEVsZW1lbnQ7XG4gICAgY3V0OiBIVE1MRWxlbWVudDtcbiAgICBjb3B5OiBIVE1MRWxlbWVudDtcbiAgICBwYXN0ZTogSFRNTEVsZW1lbnQ7XG4gICAgZ3JvdXA6IEhUTUxFbGVtZW50O1xuICAgIHVuR3JvdXA6IEhUTUxFbGVtZW50O1xuICAgIGxpbmU6IEhUTUxFbGVtZW50O1xuICAgIHJlY3Q6IEhUTUxFbGVtZW50O1xuICAgIGVsbGk6IEhUTUxFbGVtZW50O1xuICAgIHRleHQ6IEhUTUxFbGVtZW50O1xuICAgIHNlbGU6IEhUTUxFbGVtZW50O1xuICAgIHRlc3Q6IEhUTUxFbGVtZW50O1xuICAgIGxpc3Q6IEhUTUxFbGVtZW50O1xuICAgIG9uQXBwQ2hhbmdlKGV2OiBBcHBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZihldj09QXBwRXZlbnQuU0VUX1RPT0wpe1xuICAgICAgICAgdGhpcy5jaGFuZ2VUb29sKCk7XG4gICAgICAgIH07XG4gICAgIH1cbiAgICAgY2hhbmdlVG9vbChuZXdUb29sPzpzdHJpbmcpIHtcbiAgICAgICAgIGxldCB0b29sOnN0cmluZz1udWxsO1xuICAgICAgICAgaWYgKG5ld1Rvb2wpe1xuICAgICAgICAgICAgdG9vbD1uZXdUb29sXG4gICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRvb2w9PWFwcC5nZXRBY3RpdmVUb29sKCk7XG4gICAgICAgICB9XG4gICAgICAgICBjb25zb2xlLmxvZyh0b29sKVxuICAgICAgICAgaWYodG9vbC5pbmNsdWRlcygnTGluZUNyZWF0aW9uVG9vbCcpKXtcbiAgICAgICAgICAgICB0aGlzLmRpc2FibGVUb29scygpO2FwcC5zZXRBY3RpdmVUb29sKCBMSU5FX0NSRUFUSU9OICk7dGhpcy5saW5lLnNldEF0dHJpYnV0ZSgndG9nZ2xlZCcsJ3RydWUnKVxuICAgICAgICAgfWVsc2UgaWYodG9vbC5pbmNsdWRlcygnUmVjdENyZWF0aW9uVG9vbCcpKXtcbiAgICAgICAgICAgICB0aGlzLmRpc2FibGVUb29scygpO2FwcC5zZXRBY3RpdmVUb29sKCBSRUNUX0NSRUFUSU9OICk7dGhpcy5yZWN0LnNldEF0dHJpYnV0ZSgndG9nZ2xlZCcsJ3RydWUnKVxuICAgICAgICAgfWVsc2UgaWYodG9vbC5pbmNsdWRlcygnRWxsaXBzZUNyZWF0aW9uVG9vbCcpKXtcbiAgICAgICAgICAgICB0aGlzLmRpc2FibGVUb29scygpO2FwcC5zZXRBY3RpdmVUb29sKCBFTExJX0NSRUFUSU9OICk7dGhpcy5lbGxpLnNldEF0dHJpYnV0ZSgndG9nZ2xlZCcsJ3RydWUnKVxuICAgICAgICAgfWVsc2UgaWYodG9vbC5pbmNsdWRlcygnVGV4dENyZWF0aW9uVG9vbCcpKXtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVRvb2xzKCk7YXBwLnNldEFjdGl2ZVRvb2woIFRFWFRfQ1JFQVRJT04gKTt0aGlzLnRleHQuc2V0QXR0cmlidXRlKCd0b2dnbGVkJywndHJ1ZScpXG4gICAgICAgICB9ZWxzZSBpZih0b29sLmluY2x1ZGVzKCdTZWxlY3Rpb25Ub29sJykpe1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlVG9vbHMoKTthcHAuc2V0QWN0aXZlVG9vbCggU0VMRUNUSU9OKTt0aGlzLnNlbGUuc2V0QXR0cmlidXRlKCd0b2dnbGVkJywndHJ1ZScpXG4gICAgICAgICB9XG4gICAgICAgICBcbiAgICAgfVxuICAgIG9uRHJhd2luZ0NoYW5nZShcbiAgICAgICAgZXZlbnQ6IERyYXdpbmdFdmVudCApOiB2b2lkIHtcbiAgXG4gIFxuICAgICAgICBpZiAoZXZlbnQgPT0gRHJhd2luZ0V2ZW50LlJVTil7XG4gICAgICAgICAgICB0aGlzLm9wZW5SZWNlbnQuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgICAgIHRoaXMudW5Hcm91cC5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICAgICAgdGhpcy5jdXQuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgICAgIHRoaXMuY29weS5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICAgICAgdGhpcy5wYXN0ZS5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICB9ZWxzZSBpZiAoIGV2ZW50ID09PSBEcmF3aW5nRXZlbnQuU0VMRUNUSU9OICkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQ6IG51bWJlciA9IGFwcC5udW1TZWxlY3RlZCgpO1xuICAgICAgICAgICAgdGhpcy5jdXQucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7XG4gICAgICAgICAgICB0aGlzLmNvcHkucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7XG4gICAgICAgICAgICBpZiAoIHNlbGVjdGVkID4gMSApIHtcbiAgICAgICAgICAgICAgICAvLyBlbmFibGUgbWVudSBpdGVtXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cC5yZW1vdmVBdHRyaWJ1dGUoICdkaXNhYmxlZCcgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYoZXZlbnQgPT0gRHJhd2luZ0V2ZW50LlVOX1NFTEVDVElPTil7XG4gICAgICAgICAgICB0aGlzLmN1dC5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICAgICAgdGhpcy5jb3B5LnNldEF0dHJpYnV0ZSggJ2Rpc2FibGVkJywgJ3RydWUnICk7XG4gICAgICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSggJ2Rpc2FibGVkJywgJ3RydWUnICk7XG4gICAgICAgICAgICB0aGlzLnVuR3JvdXAuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGV2ZW50ID09IERyYXdpbmdFdmVudC5MT0FEKXtcbiAgICAgICAgICAgIHRoaXMub3BlblJlY2VudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB2YXIgZG9jTmFtZT1hcHAuZ2V0RG9jdW1lbnROYW1lKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb2MxLmlubmVySFRNTCE9ZG9jTmFtZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2MzLmlubmVySFRNTD10aGlzLmRvYzIuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIHRoaXMuZG9jMi5pbm5lckhUTUw9dGhpcy5kb2MxLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB0aGlzLmRvYzEuaW5uZXJIVE1MPSBkb2NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSBpZihldmVudD09RHJhd2luZ0V2ZW50LkNPUFkpe1xuICAgICAgICAgICAgdGhpcy5wYXN0ZS5yZW1vdmVBdHRyaWJ1dGUoICdkaXNhYmxlZCcgKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXQuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCAndHJ1ZScgKTtcbiAgICAgICAgICAgIHRoaXMuY29weS5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICAgICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICd0cnVlJyApO1xuICAgICAgICAgICAgdGhpcy51bkdyb3VwLnNldEF0dHJpYnV0ZSggJ2Rpc2FibGVkJywgJ3RydWUnICk7fVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGlzYWJsZVRvb2xzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5saW5lLnJlbW92ZUF0dHJpYnV0ZSgndG9nZ2xlZCcpO1xuICAgICAgICAgICAgdGhpcy5yZWN0LnJlbW92ZUF0dHJpYnV0ZSgndG9nZ2xlZCcpO1xuICAgICAgICAgICAgdGhpcy5lbGxpLnJlbW92ZUF0dHJpYnV0ZSgndG9nZ2xlZCcpO1xuICAgICAgICAgICAgdGhpcy50ZXh0LnJlbW92ZUF0dHJpYnV0ZSgndG9nZ2xlZCcpO1xuICAgICAgICAgICAgdGhpcy5zZWxlLnJlbW92ZUF0dHJpYnV0ZSgndG9nZ2xlZCcpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIC8vIGV4cGVjdGVkIG91dHB1dDogUmVmZXJlbmNlRXJyb3I6IG5vbkV4aXN0ZW50RnVuY3Rpb24gaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIE5vdGUgLSBlcnJvciBtZXNzYWdlcyB3aWxsIHZhcnkgZGVwZW5kaW5nIG9uIGJyb3dzZXJcbiAgICAgICAgICB9XG4gICAgfVxuIFxuICAgIGluaXQoKTogYW55IHtcbiAgICAgICAgLy8gRklMRVxuICAgICAgICB0aGlzLmFwcCA9IEFwcC5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLmFwcC5hZGRMaXN0ZW5lcih0aGlzKTtcbiAgICAgICAgY29uc3QgY2xlYXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAnbmV3J1xuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKCBjbGVhciApIGNsZWFyLmFkZEV2ZW50TGlzdGVuZXIoIFxuICAgICAgICAgICAgJ2NsaWNrJywgXG4gICAgICAgICAgICAoKSA9PiBhcHAuY2xlYXIoKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLm9wZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdvcGVuJ1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMub3BlbiApIHRoaXMub3Blbi5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT4gYXBwLm9wZW4oKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLm9wZW5SZWNlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdvcGVuLXJlY2VudCdcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kb2MxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAnRG9jXzEnXG4gICAgICAgICk7XG4gICAgICAgIGlmICggdGhpcy5kb2MxICkgdGhpcy5kb2MxLmFkZEV2ZW50TGlzdGVuZXIoIFxuICAgICAgICAgICAgJ2NsaWNrJywgXG4gICAgICAgICAgICAoKSA9PiBhcHAub3BlbkRvY3VtZW50KHRoaXMuZG9jMS5pbm5lckhUTUwpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZG9jMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgJ0RvY18yJ1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuZG9jMiApIHRoaXMuZG9jMi5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT4gYXBwLm9wZW5Eb2N1bWVudCh0aGlzLmRvYzIuaW5uZXJIVE1MKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRvYzMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdEb2NfMydcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLmRvYzMgKSB0aGlzLmRvYzMuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IGFwcC5vcGVuRG9jdW1lbnQodGhpcy5kb2MzLmlubmVySFRNTClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdzYXZlJ1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuc2F2ZSApIHRoaXMuc2F2ZS5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT4gYXBwLnNhdmUoKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNhdmVhcz0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAnc2F2ZWFzJ1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuc2F2ZWFzICkgdGhpcy5zYXZlYXMuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IGFwcC5zYXZlYXMoKVxuICAgICAgICApO1xuICAgICAgICAvLyBUT09MXG4gICAgICAgIHRoaXMubGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgJ2xpbmUnXG4gICAgICAgICk7XG4gICAgICAgIGlmICggdGhpcy5saW5lICkgdGhpcy5saW5lLmFkZEV2ZW50TGlzdGVuZXIoIFxuICAgICAgICAgICAgJ2NsaWNrJywgXG4gICAgICAgICAgICAoKSA9PiB7dGhpcy5jaGFuZ2VUb29sKCdMaW5lQ3JlYXRpb25Ub29sJyl9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5yZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAncmVjdCdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLnJlY3QgKSB0aGlzLnJlY3QuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IHt0aGlzLmNoYW5nZVRvb2woJ1JlY3RDcmVhdGlvblRvb2wnKTt9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5lbGxpPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdlbGxpJ1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuZWxsaSApIHRoaXMuZWxsaS5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT57dGhpcy5jaGFuZ2VUb29sKCdFbGxpcHNlQ3JlYXRpb25Ub29sJyl9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAndGV4dCdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLnRleHQgKSB0aGlzLnRleHQuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IHsgdGhpcy5jaGFuZ2VUb29sKCdUZXh0Q3JlYXRpb25Ub29sJyl9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAnc2VsZSdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLnNlbGUgKSB0aGlzLnNlbGUuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IHsgdGhpcy5jaGFuZ2VUb29sKCdTZWxlY3Rpb25Ub29sJyl9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gTkVXXG4gICAgICAgIHRoaXMudGVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgJ3Rlc3QnXG4gICAgICAgICk7XG4gICAgICAgIGlmICggdGhpcy50ZXN0ICkgdGhpcy50ZXN0LmFkZEV2ZW50TGlzdGVuZXIoIFxuICAgICAgICAgICAgJ2NsaWNrJywgXG4gICAgICAgICAgICAoKSA9PiBhcHAudGVzdEJhY2tFbmQoKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgJ2xpc3QnXG4gICAgICAgICk7XG4gICAgICAgIGlmICggdGhpcy5saXN0ICkgdGhpcy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoIFxuICAgICAgICAgICAgJ2NsaWNrJywgXG4gICAgICAgICAgICAoKSA9PiBhcHAubGlzdCgpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAnY3V0J1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuY3V0ICkgdGhpcy5jdXQuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IGFwcC5jdXQoKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvcHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdjb3B5J1xuICAgICAgICApO1xuICAgICAgICBpZiAoIHRoaXMuY29weSApIHRoaXMuY29weS5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT4gYXBwLmNvcHkoKVxuICAgICAgICApOyAgIFxuICAgICAgICB0aGlzLnBhc3RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAncGFzdGUnXG4gICAgICAgICk7XG4gICAgICAgIGlmICggdGhpcy5wYXN0ZSApIHRoaXMucGFzdGUuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IGFwcC5wYXN0ZSgpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdncm91cCdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLmdyb3VwICkgdGhpcy5ncm91cC5hZGRFdmVudExpc3RlbmVyKCBcbiAgICAgICAgICAgICdjbGljaycsIFxuICAgICAgICAgICAgKCkgPT4gYXBwLmdyb3VwKClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51bkdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAndW5ncm91cCdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCB0aGlzLnVuR3JvdXAgKSB0aGlzLnVuR3JvdXAuYWRkRXZlbnRMaXN0ZW5lciggXG4gICAgICAgICAgICAnY2xpY2snLCBcbiAgICAgICAgICAgICgpID0+IGFwcC51bmdyb3VwKClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5saW5lLnNldEF0dHJpYnV0ZSgndG9nZ2xlZCcsJ3RydWUnKVxuICAgIH1cblxufVxuXG5cblxuXG5cbiIsImV4cG9ydCBpbnRlcmZhY2UgQ29sb3Ige1xuICAgIHI6IG51bWJlcjtcbiAgICBnOiBudW1iZXI7XG4gICAgYjogbnVtYmVyO1xuICAgIGE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbG9ySGVscGVyIHtcblxuICAgIHN0YXRpYyBjb2xvckFzU3RyaW5nKFxuICAgICAgICBjb2xvcjogQ29sb3IgKTogc3RyaW5nIHtcblxuICAgICAgICByZXR1cm4gJ3JnYmEoJ1xuICAgICAgICAgICAgKyBjb2xvci5yXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyBjb2xvci5nXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyBjb2xvci5iXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyAoY29sb3IuYSAvIDI1NSlcbiAgICAgICAgICAgICsgJyknO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRyb2xQb2ludCB9IGZyb20gJy4vY29udHJvbC1wb2ludCc7XHJcbmltcG9ydCB7IENvbG9ySGVscGVyIH0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xyXG5pbXBvcnQgeyBEaW1lbnNpb24sIEdyYXBoaWNzT2JqZWN0LCBQb3NpdGlvbiB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQm91bmRCb3ggXHJcbiAgICBpbXBsZW1lbnRzIEdyYXBoaWNzT2JqZWN0IHtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY29sb3I6IHN0cmluZyA9IENvbG9ySGVscGVyLmNvbG9yQXNTdHJpbmcoe1xyXG4gICAgICAgIHI6IDI4LFxyXG4gICAgICAgIGc6IDExNixcclxuICAgICAgICBiOiAyMzIsXHJcbiAgICAgICAgYTogMjU1LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHVibGljIGludGVyZmFjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBwb3NpdGlvbjogUG9zaXRpb24sXHJcbiAgICAgICAgcHJpdmF0ZSBzaXplOiBEaW1lbnNpb24gKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnQoIFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBkcmF3IGJvdW5kIGJveFxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IEJvdW5kQm94LmNvbG9yO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgucmVjdCggXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCBcclxuICAgICAgICAgICAgdGhpcy5zaXplLncsICAgICB0aGlzLnNpemUuaCBcclxuICAgICAgICApO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgeCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS53O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5oO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdChcclxuICAgICAgICBldkRvd246IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgZXZVcD86IE1vdXNlRXZlbnQgKTogYm9vbGVhbiB7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIGlmICggZXZVcCApIHtcclxuICAgICAgICAgICAgLy8gYm91bmQgYm94IHNlbGVjdGlvblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZWQoXHJcbiAgICAgICAgICAgICAgICBldkRvd24sIGV2VXBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHBvaW50IHNlbGVjdGlvblxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5zKFxyXG4gICAgICAgICAgICBldkRvd25cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5zKFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0OiAgIG51bWJlciA9IHRoaXMueCAtIENvbnRyb2xQb2ludC5IU0laRTtcclxuICAgICAgICBjb25zdCByaWdodDogIG51bWJlciA9IHRoaXMueCArIHRoaXMudyArIENvbnRyb2xQb2ludC5IU0laRTtcclxuICAgICAgICBjb25zdCB0b3A6ICAgIG51bWJlciA9IHRoaXMueSAtIENvbnRyb2xQb2ludC5IU0laRTtcclxuICAgICAgICBjb25zdCBib3R0b206IG51bWJlciA9IHRoaXMueSArIHRoaXMuaCArIENvbnRyb2xQb2ludC5IU0laRTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gbGVmdCA8PSBldi5vZmZzZXRYICYmIGV2Lm9mZnNldFggPD0gcmlnaHRcclxuICAgICAgICAgICAgJiYgdG9wIDw9IGV2Lm9mZnNldFkgJiYgZXYub2Zmc2V0WSA8PSBib3R0b207XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG1vdmUoXHJcbiAgICAgICAgZHg6IG51bWJlciwgXHJcbiAgICAgICAgZHk6IG51bWJlciApOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggKz0gZHg7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ICs9IGR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FV1xyXG4gICAgbW92ZVRvKFxyXG4gICAgICAgIHg6IG51bWJlciwgXHJcbiAgICAgICAgeTogbnVtYmVyICk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKFxyXG4gICAgICAgIGR4OiBudW1iZXIsIFxyXG4gICAgICAgIGR5OiBudW1iZXIseDpib29sZWFuLHk6Ym9vbGVhbiApOiB2b2lkIHtcclxuICAgICAgICBpZih4KXtcclxuICAgICAgICAgICAgdGhpcy5zaXplLncgKz0gZHg7XHJcbiAgICAgICAgfWVsc2UgaWYoIXgpe1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLngrPWR4O1xyXG4gICAgICAgICAgICB0aGlzLnNpemUudy09ZHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHkpe1xyXG4gICAgICAgICAgICB0aGlzLnNpemUuaCArPSBkeTtcclxuICAgICAgICB9ZWxzZSBpZigheSl7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSs9ZHk7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZS5oLT1keTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBcclxuICAgIC8vIFRPRE9cclxuICAgIHByaXZhdGUgY29udGFpbmVkKFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwOiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICB2YXIgbWluWCxtaW5ZLG1heFgsbWF4WTtcclxuICAgICAgICAgICAgaWYgKGV2RG93bi5jbGllbnRYPmV2VXAuY2xpZW50WCl7XHJcbiAgICAgICAgICAgICAgICBtaW5YPWV2VXAuY2xpZW50WFxyXG4gICAgICAgICAgICAgICAgbWF4WD1ldkRvd24uY2xpZW50WFxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIG1pblg9ZXZEb3duLmNsaWVudFhcclxuICAgICAgICAgICAgICAgIG1heFg9ZXZVcC5jbGllbnRYXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2RG93bi5jbGllbnRZPmV2VXAuY2xpZW50WSl7XHJcbiAgICAgICAgICAgICAgICBtaW5ZPWV2VXAuY2xpZW50WVxyXG4gICAgICAgICAgICAgICAgbWF4WT1ldkRvd24uY2xpZW50WVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIG1pblk9ZXZEb3duLmNsaWVudFlcclxuICAgICAgICAgICAgICAgIG1heFk9ZXZVcC5jbGllbnRZXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYobWluWDx0aGlzLnggJiYgKHRoaXMueCt0aGlzLncpPG1heFgpe1xyXG4gICAgICAgICAgICAgICAgaWYobWluWTx0aGlzLnkgJiYgKHRoaXMueSt0aGlzLmgpPG1heFkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbG9ySGVscGVyIH0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xuXG5pbXBvcnQgYXBwIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZSB9IGZyb20gJy4uL21vZGVsL2ZpZ3VyZSc7XG5cbi8vIE5FVzogcmVzaXplIGZpZ3VyZXNcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRvb2wge1xuICAgIGFic3RyYWN0IGdldE5hbWUoKTogc3RyaW5nO1xuICAgIFxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBwcm9jZXNzTW91c2VVcChmaWc/OkZpZ3VyZSk6IHZvaWQ7XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHNob3dGZWVkYmFjayggXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgICAgICBldjogTW91c2VFdmVudCAsZj86RmlndXJlKTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBldkRvd246IE1vdXNlRXZlbnQ7XG4gICAgcHJvdGVjdGVkIGV2VXA6ICAgTW91c2VFdmVudDtcblxuICAgIG9uTW91c2VEb3duKFxuICAgICAgICBldjogTW91c2VFdmVudCxmPzpGaWd1cmUpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLmV2RG93biA9IGV2O1xuICAgICAgICB0aGlzLnN0YXJ0RmVlZGJhY2soXG4gICAgICAgICAgICBldixmXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVGVtcGxhdGUgTWV0aG9kXG4gICAgb25Nb3VzZVVwKFxuICAgICAgICBldjogTW91c2VFdmVudCxmPzpGaWd1cmUgKTogdm9pZCB7XG5cbiAgICAgICAgaWYgKCAhdGhpcy5ldkRvd24gKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgJ1Rvb2w6Om9uTW91c2VVcCgpID0+IE9VVCBPRiBTRVFVRU5DRSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gMS4gc2F2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5ldlVwID0gZXY7XG4gICAgICAgICAgICAvLyAyLiBkbyBzb21ldGhpbmcgdy8gdGhlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzTW91c2VVcChmKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gMy4gTkVXICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmV2RG93biA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmVuZEZlZWRiYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICB9XG4gICAgcGFzdGUoZj86RmlndXJlKXtcbiAgICAgICAgdGhpcy5wcm9jZXNzTW91c2VVcChmKTtcbiAgICB9XG5cbiAgICAvLyBUZW1wbGF0ZSBNZXRob2RcbiAgICBvbk1vdXNlTW92ZShcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQsIGY/OkZpZ3VyZSApOiB2b2lkIHtcblxuICAgICAgICAvLyAxLiBjaGVjayBtb3VzZSBwcmVzc2VkIChkcmFnZ2luZylcbiAgICAgICAgaWYgKCB0aGlzLmV2RG93biApIHtcblxuICAgICAgICAgICAgLy8gMi4gY2xlYXIgZmVlZGJhY2sgbGF5ZXJcbiAgICAgICAgICAgIGFwcC5jbGVhckZlZWRiYWNrQ29udGV4dCgpO1xuXG4gICAgICAgICAgICAvLyAzLiBzaG93IGZlZWRiYWNrXG4gICAgICAgICAgICB0aGlzLnNob3dGZWVkYmFjayhcbiAgICAgICAgICAgICAgICBhcHAuZ2V0RmVlZGJhY2tDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgZXZcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1lbHNlIGlmKGYpe1xuICAgICAgICAgICAgYXBwLmNsZWFyRmVlZGJhY2tDb250ZXh0KCk7XG5cbiAgICAgICAgICAgIC8vIDMuIHNob3cgZmVlZGJhY2tcbiAgICAgICAgICAgIHRoaXMuc2hvd0ZlZWRiYWNrKFxuICAgICAgICAgICAgICAgIGFwcC5nZXRGZWVkYmFja0NvbnRleHQoKSxcbiAgICAgICAgICAgICAgICBldixmXG4gICAgICAgICAgICApOyBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIDQuIHNldCBjdXJzb3JcbiAgICAgICAgICAgIGFwcC5zZXRDdXJzb3IoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDdXJzb3IoXG4gICAgICAgICAgICAgICAgICAgIGV2XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vbi1wdWJsaWMgbWVtYmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbiAgICBwcm90ZWN0ZWQgZXF1YWwoXG4gICAgICAgIGV2MTogTW91c2VFdmVudCxcbiAgICAgICAgZXYyOiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xuXG4gICAgICAgIHJldHVybiBldjEub2Zmc2V0WCA9PT0gZXYyLm9mZnNldFggXG4gICAgICAgICAgICAmJiBldjEub2Zmc2V0WSA9PT0gZXYyLm9mZnNldFk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0YXJ0RmVlZGJhY2soIFxuICAgICAgICBldjogTW91c2VFdmVudCxmPzpGaWd1cmUgKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBhcHAuZ2V0RmVlZGJhY2tDb250ZXh0KCk7XG5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyh7XG4gICAgICAgICAgICByOiAyOCwgZzogMTE2LCBiOiAyMzIsIGE6IDI1NVxuICAgICAgICB9KTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZT1Db2xvckhlbHBlci5jb2xvckFzU3RyaW5nKHtcbiAgICAgICAgICAgIHI6IDI4LCBnOiAxMTYsIGI6IDIzMiwgYTogMTAwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBlbmRGZWVkYmFjaygpOiB2b2lkIHtcbiAgICAgICAgYXBwLmNsZWFyRmVlZGJhY2tDb250ZXh0KCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEN1cnNvciggXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IHN0cmluZyB7XG5cbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBGaWd1cmUgfSBmcm9tICcuLi9tb2RlbC9maWd1cmUnO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vdG9vbCc7XG5cbmltcG9ydCBhcHAgZnJvbSAnLi4vaW5kZXgnO1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENyZWF0aW9uVG9vbFxuICAgIGV4dGVuZHMgVG9vbCB7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlRmlndXJlKGZpZz86RmlndXJlKTogRmlndXJlO1xuICAgIFxuICAgIC8vIFRlbXBsYXRlIE1ldGhvZFxuICAgIHByb3RlY3RlZCBwcm9jZXNzTW91c2VVcChmaWc/OkZpZ3VyZSk6IHZvaWQge1xuXG4gICAgICAgIC8vIDAuIG5vIGVtcHR5IGZpZ3VyZXNcbiAgICAgICAgdmFyIG5hbWU9dGhpcy5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lIT0gJ1RleHRDcmVhdGlvblRvb2wnICYmIHRoaXMuZXF1YWwoIHRoaXMuZXZEb3duLCB0aGlzLmV2VXAgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEuIGNyZWF0ZSBmaWd1cmVcbiAgICAgICAgY29uc3QgZjogRmlndXJlID0gdGhpcy5jcmVhdGVGaWd1cmUoZmlnKTtcblxuICAgICAgICAvLyAyLiBjaGVjayBmaWd1cmVcbiAgICAgICAgaWYgKCBmICkge1xuICAgICAgICAgICAgLy8gMy4gYWRkIGZpZ3VyZSB0byB0aGUgZHJhd2luZ1xuICAgICAgICAgICAgYXBwLmFkZEZpZ3VyZShcbiAgICAgICAgICAgICAgICBmXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdGSUdVUkUgQ1JFQVRJT04gRkFJTEVEJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IEJvdW5kQm94IH0gZnJvbSAnLi9ib3VuZC1ib3gnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcclxuaW1wb3J0IHsgQ2FyZGluYWwsIENvbnRyb2xQb2ludCB9IGZyb20gJy4vY29udHJvbC1wb2ludCc7XHJcbmltcG9ydCB7IEdyYXBoaWNzT2JqZWN0IH0gZnJvbSAnLi9ncmFwaGljcy1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGYWN0b3J5IHtcclxuICAgIGNyZWF0ZSggb2JqOiBhbnkgKTogRmlndXJlO1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlndXJlIFxyXG4gICAgaW1wbGVtZW50cyBHcmFwaGljc09iamVjdCB7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgICAgICBwcm90ZWN0ZWQgYmJveDogQm91bmRCb3gsXHJcbiAgICAgICAgICAgIHByb3RlY3RlZCBMaW5lU3R5bGU6IENvbG9yLFxyXG4gICAgICAgICAgICBwcm90ZWN0ZWQgTGluZVN0cm9rZTogQ29sb3IgKSB7XHJcbiAgICAgICAgICAgIGlmICggRmlndXJlLmN0cmxQb2ludHMubGVuZ3RoID09PSAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb250cm9sUG9pbnRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBhYnN0cmFjdCBnZXQgbmFtZSgpOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZG9QYWludCggXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZDtcclxuICAgIHByaXZhdGUgZ2Jib3g6IEJvdW5kQm94O1xyXG4gICAgcHJpdmF0ZSBjaGlsZHJlbjogRmlndXJlW10gPSBbXTtcclxuICAgIGdldFVuaW9uQm91bmRCb3goKXtcclxuICAgICAgICBsZXQgZlgsZlksZkgsZlc7XHJcbiAgICAgICAgaWYgKHRoaXMuYmJveC53PDApe1xyXG4gICAgICAgICAgICBmWD10aGlzLmJib3gueCt0aGlzLmJib3gudztcclxuICAgICAgICAgICAgZlc9TWF0aC5hYnModGhpcy5iYm94LncpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBmWD10aGlzLmJib3gueDtcclxuICAgICAgICAgICAgZlc9dGhpcy5iYm94Lnc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuYmJveC5oPDApe1xyXG4gICAgICAgICAgICBmWT10aGlzLmJib3gueSt0aGlzLmJib3guaDtcclxuICAgICAgICAgICAgZkg9TWF0aC5hYnModGhpcy5iYm94LmgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGZZPXRoaXMuYmJveC55O1xyXG4gICAgICAgICAgICBmSD10aGlzLmJib3guaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1pblg9Zlg7XHJcbiAgICAgICAgbGV0IG1pblk9Zlk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG1heFg9ZlgrZlcsbWF4WT1mWStmSDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGY6RmlndXJlKT0+e1xyXG4gICAgICAgICAgICBsZXQgWCxZLEgsVztcclxuICAgICAgICAgICAgaWYgKGYuYmJveC53PDApe1xyXG4gICAgICAgICAgICAgICAgWD1mLmJib3gueCtmLmJib3gudztcclxuICAgICAgICAgICAgICAgIFc9TWF0aC5hYnMoZi5iYm94LncpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIFg9Zi5iYm94Lng7XHJcbiAgICAgICAgICAgICAgICBXPWYuYmJveC53O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGYuYmJveC5oPDApe1xyXG4gICAgICAgICAgICAgICAgWT1mLmJib3gueStmLmJib3guaDtcclxuICAgICAgICAgICAgICAgIEg9TWF0aC5hYnMoZi5iYm94LmgpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgWT1mLmJib3gueTtcclxuICAgICAgICAgICAgICAgIEg9Zi5iYm94Lmg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKFg8bWluWCkge21pblg9WH1cclxuICAgICAgICAgICAgaWYoWTxtaW5ZKSB7bWluWT1ZO31cclxuICAgICAgICAgICAgbGV0IHJpZ2h0Om51bWJlcj1YK1c7XHJcbiAgICAgICAgICAgIGxldCBib3R0b206bnVtYmVyPVkrSDtcclxuICAgICAgICAgICAgaWYocmlnaHQ+bWF4WCkge21heFg9cmlnaHQ7fVxyXG4gICAgICAgICAgICBpZihib3R0b20+bWF4WSkge21heFk9Ym90dG9tO31cclxuICAgICAgICAgICAgZi5zZWxlY3RlZD1mYWxzZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZ2Jib3g9bmV3IEJvdW5kQm94KHt4Om1pblgseTptaW5ZfSx7dzoobWF4WC1taW5YKSxoOihtYXhZLW1pblkpfSk7XHJcbiAgICAgICAgRmlndXJlLmN0cmxQb2ludHMuZm9yRWFjaCgoY3A6Q29udHJvbFBvaW50KT0+IEZpZ3VyZS5jdHJsUG9pbnRzLnNoaWZ0KCkpXHJcbiAgICAgICAgdGhpcy5hZGRDb250cm9sUG9pbnRzKCk7XHJcbiAgICB9XHJcbiAgICBhZGRDaGlsZChmOiBGaWd1cmUpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZik7XHJcbiAgICB9XHJcbiAgICBmbHVzaENoaWxkcmVuKGE6RmlndXJlW10pOnZvaWR7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmOkZpZ3VyZSk9PiBhLnB1c2goZikpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW49W107XHJcbiAgICB9XHJcblxyXG5cclxuICAgICBcclxuICAgIC8vIHB1YmxpYyBpbnRlcmZhY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGdldCBzZWxlY3RlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNlbGVjdGVkKCBzOiBib29sZWFuICkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkID0gcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUZW1wbGF0ZSBNZXRob2RcclxuICAgIHBhaW50KCBcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gMS4gcGFpbnQgZmlndXJlXHJcbiAgICAgICAgdGhpcy5kb1BhaW50KFxyXG4gICAgICAgICAgICBjdHhcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIDIuIHBhaW50IGNoaWxkcmVuIChORVcpXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlblxyXG4gICAgICAgICAgIC5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAoZjogRmlndXJlKSA9PiBmLnBhaW50KCBjdHggKVx0Ly8gcmVjdXJzaXZlXHJcbiAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gMy4gcGFpbnQgYm91bmRpbmcgYm94XHJcbiAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkICkge1xyXG4gICAgICAgICAgICBpZih0aGlzLmdiYm94KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2Jib3hcclxuICAgICAgICAgICAgICAgIC5wYWludChcclxuICAgICAgICAgICAgICAgICAgICBjdHhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBGaWd1cmUuY3RybFBvaW50c1xyXG4gICAgICAgICAgICAgICAgLmZvckVhY2goIFxyXG4gICAgICAgICAgICAgICAgICAgIChjcDogQ29udHJvbFBvaW50KSA9PiBjcC5wYWludCggY3R4LCB0aGlzLmdiYm94ICkgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmJveFxyXG4gICAgICAgICAgICAgICAgLnBhaW50KFxyXG4gICAgICAgICAgICAgICAgICAgIGN0eFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIEZpZ3VyZS5jdHJsUG9pbnRzXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCggXHJcbiAgICAgICAgICAgICAgICAgICAgKGNwOiBDb250cm9sUG9pbnQpID0+IGNwLnBhaW50KCBjdHgsIHRoaXMuYmJveCApIFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA0IC4gZHJhdyBjb250cm9sIHBvaW50c1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBzZWxlY3QoIFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwPzogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5iYm94XHJcbiAgICAgICAgICAgIC5zZWxlY3QoIFxyXG4gICAgICAgICAgICAgICAgZXZEb3duLCBcclxuICAgICAgICAgICAgICAgIGV2VXAgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udGFpbnMoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2Jib3gpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYmJveC5jb250YWlucyhldilcclxuICAgICAgICB9ZWxzZSB7cmV0dXJuIHRoaXMuYmJveFxyXG4gICAgICAgICAgICAuY29udGFpbnMoXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRDb250cm9sUG9pbnQoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogQ29udHJvbFBvaW50IHwgdW5kZWZpbmVkIHtcclxuICAgIFxyXG4gICAgICAgIGZvciAoIGxldCBpOiBudW1iZXIgPSAwOyBpIDwgRmlndXJlLmN0cmxQb2ludHMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNwOiBDb250cm9sUG9pbnQgPSBGaWd1cmUuY3RybFBvaW50c1tcclxuICAgICAgICAgICAgICAgIGlcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgaWYgKCBjcC5jb250YWlucyggZXYsIHRoaXMuYmJveCApICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIG1vdmUoXHJcbiAgICAgICAgZHg6IG51bWJlciwgXHJcbiAgICAgICAgZHk6IG51bWJlcikge1xyXG4gICAgICAgIGlmKHRoaXMuZ2Jib3gpe1xyXG4gICAgICAgICAgICB0aGlzLmdiYm94XHJcbiAgICAgICAgICAgIC5tb3ZlKFxyXG4gICAgICAgICAgICAgICAgZHgsIFxyXG4gICAgICAgICAgICAgICAgZHlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5iYm94Lm1vdmUoZHgsZHkpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGY6RmlndXJlKT0+e2YuYmJveC5tb3ZlKGR4LGR5KX0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYmJveFxyXG4gICAgICAgICAgICAubW92ZShcclxuICAgICAgICAgICAgICAgIGR4LCBcclxuICAgICAgICAgICAgICAgIGR5XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoXHJcbiAgICAgICAgZHg6IG51bWJlciwgXHJcbiAgICAgICAgZHk6IG51bWJlcix4OmJvb2xlYW4seTpib29sZWFuICk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZih0aGlzLmdiYm94KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2Jib3hcclxuICAgICAgICAgICAgICAgIC5yZXNpemUoXHJcbiAgICAgICAgICAgICAgICAgICAgZHgsXHJcbiAgICAgICAgICAgICAgICBkeSx4LHlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gucmVzaXplKFxyXG4gICAgICAgICAgICAgICAgICAgIGR4LFxyXG4gICAgICAgICAgICAgICAgZHkseCx5XHJcbiAgICAgICAgICAgICAgICApOztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoZjpGaWd1cmUpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgZi5iYm94LnJlc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgIChkeCxkeSx4LHkpO30pXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LlxyXG4gICAgICAgICAgICAgICAgcmVzaXplKFxyXG4gICAgICAgICAgICAgICAgICAgIGR4LGR5LHgseVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmJveC54O1xyXG4gICAgfVxyXG4gICAgZ2V0IHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYm94Lnk7XHJcbiAgICB9XHJcbiAgICBnZXQgdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJib3gudztcclxuICAgIH1cclxuICAgIGdldCBoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmJveC5oO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FV1xyXG4gICAgdG9KU09OKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYmJveDogdGhpcy5iYm94LFxyXG4gICAgICAgICAgICBMaW5lU3R5bGU6IHRoaXMuTGluZVN0eWxlLFxyXG4gICAgICAgICAgICBMaW5lU3Ryb2tlOiB0aGlzLkxpbmVTdHJva2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vbi1wdWJsaWMgbWVtYmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByb3RlY3RlZCBfc2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIFxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGN0cmxQb2ludHM6IENvbnRyb2xQb2ludFtdID0gW1xyXG4gICAgXTtcclxuXHJcbiAgICBwcml2YXRlIGFkZENvbnRyb2xQb2ludHMoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vICB0YXJnZXQgPSBFUzIwMTcrXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT2JqZWN0LnZhbHVlcyhcclxuICAgICAgICAvLyAgICAgQ2FyZGluYWxcclxuICAgICAgICAvLyApXHJcbiAgICAgICAgLy8gLm1hcCggKGNhcmRpbmFsOiBDYXJkaW5hbCkgPT5cclxuICAgICAgICAvLyAgICAgdGhpcy5jdHJsUG9pbnRzXHJcbiAgICAgICAgLy8gICAgICAgICAucHVzaChcclxuICAgICAgICAvLyAgICAgICAgICAgICBuZXcgQ29udHJvbFBvaW50KFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjYXJkaW5hbFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIClcclxuICAgICAgICAvLyAgICAgICAgIClcclxuICAgICAgICAvLyApO1xyXG5cclxuICAgICAgICAvLyB0YXJnZXQgPSBFUzVcclxuICAgICAgICBcclxuICAgICAgICBPYmplY3Qua2V5cyhcclxuICAgICAgICAgICAgQ2FyZGluYWxcclxuICAgICAgICApXHJcbiAgICAgICAgLm1hcCggKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmRpbmFsOiBudW1iZXIgPSBOdW1iZXIoIFxyXG4gICAgICAgICAgICAgICAga2V5IFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhaXNOYU4oIGNhcmRpbmFsICkgKSB7XHJcbiAgICAgICAgICAgICAgICBGaWd1cmUuY3RybFBvaW50c1xyXG4gICAgICAgICAgICAgICAgICAgIC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29udHJvbFBvaW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgXHJcbiAgICBDb2xvciwgXHJcbn0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xyXG5pbXBvcnQgeyBCb3VuZEJveCB9IGZyb20gJy4vYm91bmQtYm94JztcclxuXHJcbmltcG9ydCB7IFxyXG4gICAgRmlndXJlLFxyXG59IGZyb20gJy4vZmlndXJlJztcclxuaW1wb3J0IHsgRGltZW5zaW9uLCBQb3NpdGlvbiB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHZW9tRmlndXJlIGV4dGVuZHMgRmlndXJle1xyXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGJib3g6Qm91bmRCb3gsXHJcbiAgICAgICAgcHJvdGVjdGVkIGxpbmVUaGlja25lc3M6IG51bWJlcixcclxuICAgICAgICBwcm90ZWN0ZWQgbGluZVN0eWxlOiBDb2xvcixcclxuICAgICAgICBwcm90ZWN0ZWQgbGluZVN0cm9rZTpDb2xvcixcclxuICAgICAgICBwcm90ZWN0ZWQgbGluZURhc2g6IEFycmF5PG51bWJlcj4pIHtcclxuXHJcbiAgICAgICAgc3VwZXIoYmJveCxcclxuICAgICAgICAgICAgbGluZVN0eWxlLFxyXG4gICAgICAgICAgICBsaW5lU3Ryb2tlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IHtcbiAgICBBcGlTZXJ2aWNlLFxufSBmcm9tICcuLi9hcGkvYXBpLXNlcnZpY2UnO1xuXG5pbXBvcnQgeyBcbiAgICBCb3VuZEJveCxcbn0gZnJvbSAnLi9ib3VuZC1ib3gnO1xuXG5pbXBvcnQgeyBcbiAgICBDb2xvcixcbiAgICBDb2xvckhlbHBlciwgXG59IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcblxuaW1wb3J0IHtcbiAgICBGYWN0b3J5XG59IGZyb20gJy4vZmlndXJlJztcbmltcG9ydCB7IEdlb21GaWd1cmUgfSBmcm9tICcuL2dlb20tZmlndXJlJztcblxuZXhwb3J0IGNsYXNzIExpbmUgXG4gICAgZXh0ZW5kcyBHZW9tRmlndXJlIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZyA9ICdMaW5lJztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBiYm94OkJvdW5kQm94LFxuICAgICAgICBsaW5lVGhpY2tuZXNzOiBudW1iZXIsXG4gICAgICAgIGxpbmVTdHlsZTogQ29sb3IsXG4gICAgICAgIGxpbmVTdHJva2U6Q29sb3IsXG4gICAgICAgIGxpbmVEYXNoOkFycmF5PG51bWJlcj4gICkge1xuXG4gICAgICAgICAgICBzdXBlcihcbiAgICAgICAgICAgICAgICBiYm94LFxuICAgICAgICAgICAgICAgIGxpbmVUaGlja25lc3MsXG4gICAgICAgICAgICAgICAgbGluZVN0eWxlLFxuICAgICAgICAgICAgICAgIGxpbmVTdHJva2UsXG4gICAgICAgICAgICAgICAgbGluZURhc2hcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgICAgICBcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gTGluZS5jbGFzc05hbWU7XG4gICAgfVxuICAgIGdldCBfbGluZVdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVUaGlja25lc3M7XG4gICAgfVxuXG4gICAgc2V0IF9saW5lV2lkdGgoIG5ld1RpY2tuZXNzOiBudW1iZXIgKSB7XG4gICAgICAgIHRoaXMubGluZVRoaWNrbmVzcyA9IG5ld1RpY2tuZXNzO1xuICAgIH1cblxuICAgIGdldCBfbGluZVN0eWxlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XG4gICAgfVxuXG4gICAgc2V0IF9saW5lU3R5bGUoIG5ld1N0eWxlOiBzdHJpbmcgKSB7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG5ld1N0eWxlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb1BhaW50KFxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcblxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBDb2xvckhlbHBlci5jb2xvckFzU3RyaW5nKFxuICAgICAgICAgICAgdGhpcy5saW5lU3Ryb2tlXG4gICAgICAgICk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKFxuICAgICAgICAgICAgdGhpcy5iYm94LngsIFxuICAgICAgICAgICAgdGhpcy5iYm94LnlcbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmxpbmVUbyhcbiAgICAgICAgICAgIHRoaXMuYmJveC54ICsgdGhpcy5iYm94LncsIFxuICAgICAgICAgICAgdGhpcy5iYm94LnkgKyB0aGlzLmJib3guaFxuICAgICAgICApO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBMaW5lRmFjdG9yeSBcbiAgICBpbXBsZW1lbnRzIEZhY3Rvcnkge1xuXG4gICAgY3JlYXRlKCBcbiAgICAgICAganNvbjogYW55ICk6IExpbmUge1xuXG4gICAgICAgIHJldHVybiBuZXcgTGluZSggbmV3IEJvdW5kQm94KFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICB4OiBqc29uLmJib3gucG9zaXRpb24ueCwgXG4gICAgICAgICAgICAgICAgeToganNvbi5iYm94LnBvc2l0aW9uLnlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIHc6IGpzb24uYmJveC5zaXplLncsIFxuICAgICAgICAgICAgICAgIGg6IGpzb24uYmJveC5zaXplLmggXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIDEsanNvbi5MaW5lU3R5bGUsanNvbi5MaW5lU3Ryb2tlLFtdXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BcGlTZXJ2aWNlLmdldEluc3RhbmNlKClcbiAgICAucmVnaXN0ZXJGYWN0b3J5KFxuICAgICAgICBMaW5lLmNsYXNzTmFtZSxcbiAgICAgICAgbmV3IExpbmVGYWN0b3J5KClcbiAgICApO1xuIiwiaW1wb3J0IHsgQm91bmRCb3ggfSBmcm9tICcuLi9tb2RlbC9ib3VuZC1ib3gnO1xuaW1wb3J0IHsgQ3JlYXRpb25Ub29sIH0gZnJvbSAnLi9jcmVhdGlvbi10b29sJztcbmltcG9ydCB7IEZpZ3VyZSB9IGZyb20gJy4uL21vZGVsL2ZpZ3VyZSc7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSAnLi4vbW9kZWwvbGluZSc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lQ3JlYXRpb25Ub29sXG4gICAgZXh0ZW5kcyBDcmVhdGlvblRvb2wge1xuXG4gICAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ0xpbmVDcmVhdGlvblRvb2wnO1xuICAgIH1cbiAgICAgICAgXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcHJvdGVjdGVkIHNob3dGZWVkYmFjayhcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50LGY/OkZpZ3VyZSApOiB2b2lkIHtcbiAgICAgICAgICAgIGlmKGYpe1xuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKFxuICAgICAgICAgICAgICAgICAgICBldi5vZmZzZXRYLCBcbiAgICAgICAgICAgICAgICAgICAgZXYub2Zmc2V0WVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhcbiAgICAgICAgICAgICAgICAgICAgZXYub2Zmc2V0WCtmLmgsIFxuICAgICAgICAgICAgICAgICAgICBldi5vZmZzZXRZK2Yud1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZEb3duLm9mZnNldFgsIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2RG93bi5vZmZzZXRZXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKFxuICAgICAgICAgICAgICAgICAgICBldi5vZmZzZXRYLCBcbiAgICAgICAgICAgICAgICAgICAgZXYub2Zmc2V0WVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm90ZWN0ZWQgY3JlYXRlRmlndXJlKGZpZz86RmlndXJlKTogRmlndXJlIHtcblxuICAgICAgICBpZihmaWcpe1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lKG5ldyBCb3VuZEJveChcbiAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmV2VXAub2Zmc2V0WCwgXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZXZVcC5vZmZzZXRZIFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgdzogZmlnLncsIFxuICAgICAgICAgICAgICAgICAgICBoOiBmaWcuaFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAsMSx7IFxuICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cbiAgICAgICAgICAgIH0seyBcbiAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XG4gICAgICAgICAgICB9LFtdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGluZShuZXcgQm91bmRCb3goXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5ldkRvd24ub2Zmc2V0WCwgXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZXZEb3duLm9mZnNldFkgXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICB3OiB0aGlzLmV2VXAuY2xpZW50WCAtIHRoaXMuZXZEb3duLmNsaWVudFgsIFxuICAgICAgICAgICAgICAgICAgICBoOiB0aGlzLmV2VXAuY2xpZW50WSAtIHRoaXMuZXZEb3duLmNsaWVudFlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgLDEseyBcbiAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XG4gICAgICAgICAgICB9LHsgXG4gICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xuICAgICAgICAgICAgfSxbXVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgfVxuICAgIH0gICAgXG59IiwiaW1wb3J0IHsgQm91bmRCb3ggfSBmcm9tICcuL2JvdW5kLWJveCc7XHJcblxyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcclxuXHJcbmltcG9ydCB7IEdlb21GaWd1cmUgfSBmcm9tICcuL2dlb20tZmlndXJlJztcclxuaW1wb3J0IHsgRGltZW5zaW9uLCBQb3NpdGlvbiB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDbG9zZWRGaWd1cmUgZXh0ZW5kcyBHZW9tRmlndXJle1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcm90ZWN0ZWQgYmJveDpCb3VuZEJveCxcclxuICAgICAgICBwcm90ZWN0ZWQgbGluZVRoaWNrbmVzczogbnVtYmVyLFxyXG4gICAgICAgIHByb3RlY3RlZCBsaW5lU3R5bGU6IENvbG9yLFxyXG4gICAgICAgIHByb3RlY3RlZCBsaW5lU3Ryb2tlOkNvbG9yLFxyXG4gICAgICAgIHByb3RlY3RlZCBmaWxsQ29sb3I6IENvbG9yLFxyXG4gICAgICAgIHByb3RlY3RlZCBsaW5lRGFzaDpBcnJheTxudW1iZXI+ICl7XHJcbiAgICAgICAgICAgIHN1cGVyKGJib3gsXHJcbiAgICAgICAgICAgICAgICBsaW5lVGhpY2tuZXNzLFxyXG4gICAgICAgICAgICAgICAgbGluZVN0eWxlLFxyXG4gICAgICAgICAgICAgICAgbGluZVN0cm9rZSxcclxuICAgICAgICAgICAgICAgIGxpbmVEYXNoXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgZ2V0IGZpbGwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XHJcbiAgICB9XHJcbiAgICBzZXQgZmlsbCggczogYm9vbGVhbiApIHtcclxuICAgICAgICB0aGlzLl9maWxsID0gcztcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBfZmlsbDogYm9vbGVhbiA9IGZhbHNlO1xyXG59IiwiaW1wb3J0IHsgXHJcbiAgICBCb3VuZEJveCwgXHJcbn0gZnJvbSAnLi9ib3VuZC1ib3gnO1xyXG5cclxuaW1wb3J0IHsgXHJcbiAgICBDb2xvcixcclxuICAgIENvbG9ySGVscGVyLCBcclxufSBmcm9tICcuLi91dGlsL2NvbG9yLWhlbHBlcic7XHJcblxyXG5pbXBvcnQgeyBcclxuICAgIENsb3NlZEZpZ3VyZSxcclxufSBmcm9tICcuL2Nsb3NlZC1maWd1cmUnO1xyXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSAnLi9maWd1cmUnO1xyXG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi4vYXBpL2FwaS1zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBDbG9zZWRGaWd1cmUge1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZyA9ICdSZWN0YW5nbGUnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIGJib3g6Qm91bmRCb3gsXHJcbiAgICAgICAgbGluZVRoaWNrbmVzczogbnVtYmVyLFxyXG4gICAgICAgIGxpbmVTdHlsZTogQ29sb3IsXHJcbiAgICAgICAgbGluZVN0cm9rZTpDb2xvcixcclxuICAgICAgICBmaWxsQ29sb3I6IENvbG9yLFxyXG4gICAgICAgIGxpbmVEYXNoOkFycmF5PG51bWJlcj4gICkge1xyXG5cclxuICAgICAgICAgICAgc3VwZXIoXHJcbiAgICAgICAgICAgICAgICBiYm94LFxyXG4gICAgICAgICAgICAgICAgbGluZVRoaWNrbmVzcyxcclxuICAgICAgICAgICAgICAgIGxpbmVTdHlsZSxcclxuICAgICAgICAgICAgICAgIGxpbmVTdHJva2UsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBsaW5lRGFzaFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLmNsYXNzTmFtZTtcclxuICAgIH1cclxuICAgIGdldCBfbGluZVdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVRoaWNrbmVzcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgX2xpbmVXaWR0aCggbmV3VGlja25lc3M6IG51bWJlciApIHtcclxuICAgICAgICB0aGlzLmxpbmVUaGlja25lc3MgPSBuZXdUaWNrbmVzcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX2xpbmVTdHlsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IF9saW5lU3R5bGUoIG5ld1N0eWxlOiBzdHJpbmcgKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbmV3U3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRvUGFpbnQoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IENvbG9ySGVscGVyLmNvbG9yQXNTdHJpbmcoXHJcbiAgICAgICAgICAgIHRoaXMubGluZVN0cm9rZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVRoaWNrbmVzcztcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpOyBcclxuICAgICAgICBjdHgucmVjdCh0aGlzLmJib3gueCx0aGlzLmJib3gueSx0aGlzLmJib3gudyx0aGlzLmJib3guaCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9maWxsKXtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZT0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyh0aGlzLmZpbGxDb2xvcik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfSAgXHJcblxyXG4gICAgfVxyXG59XHJcbmNsYXNzIFJlY3RhbmdsZUZhY3RvcnkgXHJcbiAgICBpbXBsZW1lbnRzIEZhY3Rvcnkge1xyXG5cclxuICAgIGNyZWF0ZSggXHJcbiAgICAgICAganNvbjogYW55ICk6IFJlY3RhbmdsZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUobmV3IEJvdW5kQm94KFxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgeDoganNvbi5iYm94LngsIFxyXG4gICAgICAgICAgICAgICAgeToganNvbi5iYm94LnlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHc6IGpzb24uYmJveC53LCBcclxuICAgICAgICAgICAgICAgIGg6IGpzb24uYmJveC5oIFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgMSxqc29uLkxpbmVTdHlsZSxqc29uLkxpbmVTdHJva2UsanNvbi5jb2xvcixbXVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKVxyXG4gICAgLnJlZ2lzdGVyRmFjdG9yeShcclxuICAgICAgICBSZWN0YW5nbGUuY2xhc3NOYW1lLFxyXG4gICAgICAgIG5ldyBSZWN0YW5nbGVGYWN0b3J5KClcclxuICAgICk7XHJcbiIsImltcG9ydCB7IEJvdW5kQm94IH0gZnJvbSAnLi4vbW9kZWwvYm91bmQtYm94JztcclxuaW1wb3J0IHsgQ3JlYXRpb25Ub29sIH0gZnJvbSAnLi9jcmVhdGlvbi10b29sJztcclxuaW1wb3J0IHsgRmlndXJlIH0gZnJvbSAnLi4vbW9kZWwvZmlndXJlJztcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vbW9kZWwvcmVjdGFuZ2xlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWN0Q3JlYXRpb25Ub29sXHJcbiAgICBleHRlbmRzIENyZWF0aW9uVG9vbCB7XHJcblxyXG4gICAgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnUmVjdENyZWF0aW9uVG9vbCc7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc2hvd0ZlZWRiYWNrKFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50LGY/OkZpZ3VyZSApOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYoZil7XHJcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjdHguc2V0TGluZURhc2goW10pOyBcclxuICAgICAgICAgICAgICAgIGN0eC5yZWN0KCBldi5vZmZzZXRYLGV2Lm9mZnNldFksICBldi5vZmZzZXRYK2YuaCxldi5vZmZzZXRZK2Yudyk7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTsgXHJcbiAgICAgICAgICAgICAgICBjdHgucmVjdCggdGhpcy5ldkRvd24ub2Zmc2V0WCx0aGlzLmV2RG93bi5vZmZzZXRZLCAgZXYub2Zmc2V0WC10aGlzLmV2RG93bi5vZmZzZXRYLGV2Lm9mZnNldFktdGhpcy5ldkRvd24ub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgY3JlYXRlRmlndXJlKGZpZz86RmlndXJlKTogRmlndXJlIHtcclxuXHJcbiAgICAgICAgaWYoZmlnKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUobmV3IEJvdW5kQm94KFxyXG4gICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmV2VXAub2Zmc2V0WCwgXHJcbiAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5ldlVwLm9mZnNldFkgXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICB3OiBmaWcudywgXHJcbiAgICAgICAgICAgICAgICAgICAgaDogZmlnLmhcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICwxLHsgXHJcbiAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XHJcbiAgICAgICAgICAgIH0seyBcclxuICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cclxuICAgICAgICAgICAgfSx7IFxyXG4gICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICB9LFtdXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICB9ZWxzZXtyZXR1cm4gbmV3IFJlY3RhbmdsZShuZXcgQm91bmRCb3goXHJcbiAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZXZEb3duLm9mZnNldFgsIFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZXZEb3duLm9mZnNldFkgXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICB3OiB0aGlzLmV2VXAuY2xpZW50WCAtIHRoaXMuZXZEb3duLmNsaWVudFgsIFxyXG4gICAgICAgICAgICAgICAgICAgIGg6IHRoaXMuZXZVcC5jbGllbnRZIC0gdGhpcy5ldkRvd24uY2xpZW50WVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIDEseyBcclxuICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cclxuICAgICAgICAgICAgfSx7IFxyXG4gICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICB9LHsgXHJcbiAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XHJcbiAgICAgICAgICAgIH0sW11cclxuICAgICAgICApO31cclxuICAgIH1cclxufSIsImltcG9ydCB7XHJcbiAgICBBcGlTZXJ2aWNlLFxyXG59IGZyb20gJy4uL2FwaS9hcGktc2VydmljZSc7XHJcbmltcG9ydCB7IFxyXG4gICAgQm91bmRCb3gsIFxyXG59IGZyb20gJy4vYm91bmQtYm94JztcclxuXHJcbmltcG9ydCB7IFxyXG4gICAgQ29sb3IsXHJcbiAgICBDb2xvckhlbHBlciwgXHJcbn0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xyXG5cclxuaW1wb3J0IHsgXHJcbiAgICBDbG9zZWRGaWd1cmUsXHJcbn0gZnJvbSAnLi9jbG9zZWQtZmlndXJlJztcclxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gJy4vZmlndXJlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbGxpcHNlIGV4dGVuZHMgQ2xvc2VkRmlndXJlIHtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY2xhc3NOYW1lOiBzdHJpbmcgPSAnRWxsaXBzZSc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgYmJveDpCb3VuZEJveCxcclxuICAgICAgICBsaW5lVGhpY2tuZXNzOiBudW1iZXIsXHJcbiAgICAgICAgbGluZVN0eWxlOiBDb2xvcixcclxuICAgICAgICBsaW5lU3Ryb2tlOkNvbG9yLFxyXG4gICAgICAgIGZpbGxDb2xvcjogQ29sb3IsXHJcbiAgICAgICAgbGluZURhc2g6QXJyYXk8bnVtYmVyPiAgKSB7XHJcblxyXG4gICAgICAgICAgICBzdXBlcihiYm94LFxyXG4gICAgICAgICAgICAgICAgbGluZVRoaWNrbmVzcyxcclxuICAgICAgICAgICAgICAgIGxpbmVTdHlsZSxcclxuICAgICAgICAgICAgICAgIGxpbmVTdHJva2UsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBsaW5lRGFzaFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRWxsaXBzZS5jbGFzc05hbWU7XHJcbiAgICB9XHJcblxyXG5nZXQgX2xpbmVXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubGluZVRoaWNrbmVzcztcclxufVxyXG5cclxuc2V0IF9saW5lV2lkdGgoIG5ld1RpY2tuZXNzOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLmxpbmVUaGlja25lc3MgPSBuZXdUaWNrbmVzcztcclxufVxyXG5cclxuZ2V0IF9saW5lU3R5bGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XHJcbn1cclxuXHJcbnNldCBfbGluZVN0eWxlKCBuZXdTdHlsZTogc3RyaW5nICkge1xyXG4gICAgdGhpcy5fbGluZVN0eWxlID0gbmV3U3R5bGU7XHJcbn1cclxuICAgIHByb3RlY3RlZCBkb1BhaW50KFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IENvbG9ySGVscGVyLmNvbG9yQXNTdHJpbmcoXHJcbiAgICAgICAgICAgIHRoaXMubGluZVN0cm9rZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVRoaWNrbmVzczsgXHJcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguZWxsaXBzZSh0aGlzLmJib3gueCsodGhpcy5iYm94LncvMiksdGhpcy5iYm94LnkrKHRoaXMuYmJveC5oLzIpLCBNYXRoLmFicyh0aGlzLmJib3gudy8yKSwgTWF0aC5hYnModGhpcy5iYm94LmgvMiksIDAsICAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9maWxsKXtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZT0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyh0aGlzLmZpbGxDb2xvcik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfSAgXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFbGxpcHNlRmFjdG9yeSBcclxuICAgIGltcGxlbWVudHMgRmFjdG9yeSB7XHJcblxyXG4gICAgY3JlYXRlKCBcclxuICAgICAgICBqc29uOiBhbnkgKTogRWxsaXBzZSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZShcclxuICAgICAgICAgICAgbmV3IEJvdW5kQm94KFxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgeDoganNvbi5iYm94LngsIFxyXG4gICAgICAgICAgICAgICAgeToganNvbi5iYm94LnlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHc6IGpzb24uYmJveC53LCBcclxuICAgICAgICAgICAgICAgIGg6IGpzb24uYmJveC5oIFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgMSxqc29uLkxpbmVTdHlsZSxqc29uLkxpbmVTdHJva2UsanNvbi5jb2xvcixbXVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKVxyXG4gICAgLnJlZ2lzdGVyRmFjdG9yeShcclxuICAgICAgICBFbGxpcHNlLmNsYXNzTmFtZSxcclxuICAgICAgICBuZXcgRWxsaXBzZUZhY3RvcnkoKVxyXG4gICAgKTsiLCJpbXBvcnQgeyBDcmVhdGlvblRvb2wgfSBmcm9tICcuL2NyZWF0aW9uLXRvb2wnO1xyXG5pbXBvcnQgeyBGaWd1cmUgfSBmcm9tICcuLi9tb2RlbC9maWd1cmUnO1xyXG5pbXBvcnQgeyBFbGxpcHNlIH0gZnJvbSAnLi4vbW9kZWwvZWxsaXBzZSc7XHJcbmltcG9ydCB7IEJvdW5kQm94IH0gZnJvbSAnLi4vbW9kZWwvYm91bmQtYm94JztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbGxpQ3JlYXRpb25Ub29sXHJcbiAgICBleHRlbmRzIENyZWF0aW9uVG9vbCB7XHJcblxyXG4gICAgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnRWxsaXBzZUNyZWF0aW9uVG9vbCc7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc2hvd0ZlZWRiYWNrKFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG4gICAgICAgICAgICB2YXIgeD1ldi5vZmZzZXRYLXRoaXMuZXZEb3duLmNsaWVudFg7XHJcbiAgICAgICAgICAgIHZhciB5PWV2Lm9mZnNldFktdGhpcy5ldkRvd24ub2Zmc2V0WTtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHguZWxsaXBzZSh0aGlzLmV2RG93bi5vZmZzZXRYKyh4LzIpLHRoaXMuZXZEb3duLm9mZnNldFkrKHkvMiksIE1hdGguYWJzKHgvMiksIE1hdGguYWJzKHkvMiksIDAsICAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUZpZ3VyZShmaWc/OkZpZ3VyZSk6IEZpZ3VyZSB7XHJcbiAgICAgICAgaWYoZmlnKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGxpcHNlKCBuZXcgQm91bmRCb3goXHJcbiAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZXZVcC5vZmZzZXRYLCBcclxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmV2VXAub2Zmc2V0WSAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgIHc6IGZpZy53LCBcclxuICAgICAgICAgICAgICAgICAgICBoOiBmaWcuaFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIDEseyBcclxuICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cclxuICAgICAgICAgICAgfSx7IFxyXG4gICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICB9LHsgXHJcbiAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XHJcbiAgICAgICAgICAgIH0sW11cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgc2l6ZVk9dGhpcy5ldlVwLm9mZnNldFktdGhpcy5ldkRvd24ub2Zmc2V0WTtcclxuICAgICAgICAgICAgdmFyIHNpemVYPXRoaXMuZXZVcC5vZmZzZXRYLXRoaXMuZXZEb3duLm9mZnNldFhcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGxpcHNlKCBuZXcgQm91bmRCb3goXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5ldkRvd24ub2Zmc2V0WCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZXZEb3duLm9mZnNldFkgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHc6IHNpemVYLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaDogc2l6ZVlcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIDEseyBcclxuICAgICAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XHJcbiAgICAgICAgICAgICAgICB9LHsgXHJcbiAgICAgICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICAgICAgfSx7IFxyXG4gICAgICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cclxuICAgICAgICAgICAgICAgIH0sW11cclxuICAgICAgICAgICAgKTt9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCb3VuZEJveCB9IGZyb20gJy4vYm91bmQtYm94JztcclxuaW1wb3J0IHsgQ29sb3IsQ29sb3JIZWxwZXIgfSBmcm9tICcuLi91dGlsL2NvbG9yLWhlbHBlcic7XHJcbmltcG9ydCB7IEZhY3RvcnksIEZpZ3VyZSB9IGZyb20gJy4vZmlndXJlJztcclxuaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gJy4uL2FwaS9hcGktc2VydmljZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dCBleHRlbmRzIEZpZ3VyZXtcclxuICAgIHN0YXRpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZyA9ICdUZXh0JztcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IodGV4dDpzdHJpbmcsXHJcbiAgICAgICAgcHJvdGVjdGVkIGJib3g6Qm91bmRCb3gsICAgICAgIC8vIE5FV1xyXG4gICAgICAgIHByb3RlY3RlZCBMaW5lU3R5bGU6IENvbG9yLFxyXG4gICAgICAgIHByb3RlY3RlZCBMaW5lU3Ryb2tlOiBDb2xvciApIHtcclxuICAgICAgICBzdXBlcihcclxuICAgICAgICAgICAgYmJveCxcclxuICAgICAgICAgICAgTGluZVN0eWxlLFxyXG4gICAgICAgICAgICBMaW5lU3Ryb2tlXHJcbiAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dD10ZXh0O1xyXG4gICAgfVxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gVGV4dC5jbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICBnZXQgZm9udCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb250O1xyXG4gICAgfVxyXG4gICAgc2V0IGZvbnQobmV3Rm9udDpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX2ZvbnQ9bmV3Rm9udDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzZWxlY3RlZCggczogYm9vbGVhbiApIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IHM7XHJcbiAgICB9XHJcbiAgICBnZXQgdGV4dCgpOnN0cmluZ3tcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcclxuICAgIH1cclxuICAgIHNldCB0ZXh0IChuZXdUZXh0OnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5fdGV4dD1uZXdUZXh0O1xyXG4gICAgfVxyXG4gICAgZG9QYWludChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuICAgIFxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5fZm9udDtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyh0aGlzLkxpbmVTdHlsZSk7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuX3RleHQsIHRoaXMuYmJveC54LHRoaXMuYmJveC55KTtcclxuICAgICAgICBpZiAoIHRoaXMuc2VsZWN0ZWQgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmJveC5wYWludCggICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfZm9udDogc3RyaW5nPVwiXCI7XHJcbiAgICBwcml2YXRlIF90ZXh0OiBzdHJpbmc9dGhpcy50ZXh0O1xyXG4gICAgcHJvdGVjdGVkIF9zZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG59XHJcblxyXG5jbGFzcyBUZXh0RmFjdG9yeSBcclxuICAgIGltcGxlbWVudHMgRmFjdG9yeSB7XHJcblxyXG4gICAgY3JlYXRlKCBcclxuICAgICAgICBqc29uOiBhbnkgKTogVGV4dCB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVGV4dChcclxuICAgICAgICAgICAganNvbi5fdGV4dCwgbmV3IEJvdW5kQm94KFxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgeDoganNvbi5iYm94LngsIFxyXG4gICAgICAgICAgICAgICAgeToganNvbi5iYm94LnlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgIHc6IGpzb24uYmJveC53LCBcclxuICAgICAgICAgICAgICAgIGg6IGpzb24uYmJveC5oIFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAganNvbi5MaW5lU3R5bGUsanNvbi5MaW5lU3Ryb2tlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpXHJcbiAgICAucmVnaXN0ZXJGYWN0b3J5KFxyXG4gICAgICAgIFRleHQuY2xhc3NOYW1lLFxyXG4gICAgICAgIG5ldyBUZXh0RmFjdG9yeSgpXHJcbiAgICApO1xyXG5cclxuIiwiaW1wb3J0IHsgQ3JlYXRpb25Ub29sIH0gZnJvbSAnLi9jcmVhdGlvbi10b29sJztcclxuaW1wb3J0IHsgRmlndXJlIH0gZnJvbSAnLi4vbW9kZWwvZmlndXJlJztcclxuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL21vZGVsL3RleHQnO1xyXG5pbXBvcnQgeyBCb3VuZEJveCB9IGZyb20gJy4uL21vZGVsL2JvdW5kLWJveCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dENyZWF0aW9uVG9vbFxyXG4gICAgZXh0ZW5kcyBDcmVhdGlvblRvb2wge1xyXG5cclxuICAgIGdldE5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1RleHRDcmVhdGlvblRvb2wnO1xyXG4gICAgfVxyXG4gICAgICAgIFxyXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByb3RlY3RlZCBzaG93RmVlZGJhY2soXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJUZXh0XCIsIGV2Lm9mZnNldFgsZXYub2Zmc2V0WSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjcmVhdGVGaWd1cmUoZmlnPzpUZXh0KTogRmlndXJlIHtcclxuICAgICAgICBpZihmaWcpe1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHQoZmlnLnRleHQsXHJcbiAgICAgICAgICAgICAgICBuZXcgQm91bmRCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmV2VXAub2Zmc2V0WCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZXZVcC5vZmZzZXRZIFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdzogZmlnLncsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoOiBmaWcuaFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAseyBcclxuICAgICAgICAgICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgICAvLyBjb2xvciA/XHJcbiAgICAgICAgICAgICAgICB9LHsgXHJcbiAgICAgICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc3QgdGV4dDpzdHJpbmcgPXByb21wdChcIkluZ3Jlc2UgZWwgdGV4dG9cIik7XHJcbiAgICAgICAgaWYgKHRleHQhPW51bGwgJiYgdGV4dCE9Jycpe1xyXG4gICAgICAgIHJldHVybiBuZXcgVGV4dCh0ZXh0LFxyXG4gICAgICAgICAgICBuZXcgQm91bmRCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZXZVcC5vZmZzZXRYLCBcclxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmV2VXAub2Zmc2V0WSBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgIHc6IHRoaXMuZXZVcC5jbGllbnRYIC0gdGhpcy5ldkRvd24uY2xpZW50WCwgXHJcbiAgICAgICAgICAgICAgICAgICAgaDogdGhpcy5ldlVwLmNsaWVudFkgLSB0aGlzLmV2RG93bi5jbGllbnRZXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAseyBcclxuICAgICAgICAgICAgICAgIHI6IDAsIGc6IDAsIGI6IDAsIGE6IDI1NSAgIC8vIGNvbG9yID9cclxuICAgICAgICAgICAgfSx7IFxyXG4gICAgICAgICAgICAgICAgcjogMCwgZzogMCwgYjogMCwgYTogMjU1ICAgLy8gY29sb3IgP1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gIFxyXG4gICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXHJcbn0iLCJpbXBvcnQgeyBDb250cm9sUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9jb250cm9sLXBvaW50JztcbmltcG9ydCB7IEZpZ3VyZSB9IGZyb20gJy4uL21vZGVsL2ZpZ3VyZSc7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSAnLi90b29sJztcblxuaW1wb3J0IGFwcCBmcm9tICcuLi9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb25Ub29sIFxuICAgIGV4dGVuZHMgVG9vbCB7XG4gICAgXG4gICAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ1NlbGVjdGlvblRvb2wnO1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgZlNlbGVjdGVkOiBGaWd1cmU7XG4gICAgcHJpdmF0ZSBmQ3RybFBvaW50OiBDb250cm9sUG9pbnQ7XG5cbiAgICAvLyBORVdcbiAgICAvLyBvdmVycmlkZVxuICAgIFxuXG4gICAgLy8gb3ZlcnJpZGVcbiAgICBwcm90ZWN0ZWQgZ2V0Q3Vyc29yKCBcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogc3RyaW5nIHtcblxuICAgICAgICB0aGlzLmZDdHJsUG9pbnQgPSBhcHAuZ2V0Q29udHJvbFBvaW50KFxuICAgICAgICAgICAgZXZcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmZTZWxlY3RlZCA9IGFwcC5nZXRTZWxlY3RlZEZpZ3VyZShcbiAgICAgICAgICAgIGV2XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCB0aGlzLmZDdHJsUG9pbnQgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mQ3RybFBvaW50XG4gICAgICAgICAgICAgICAgLmdldEN1cnNvcigpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mU2VsZWN0ZWRcbiAgICAgICAgICAgID8gJ21vdmUnXG4gICAgICAgICAgICA6IHN1cGVyLmdldEN1cnNvciggZXYgKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hvd0ZlZWRiYWNrKFxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XG5cbiAgICAgICAgaWYgKCB0aGlzLmZDdHJsUG9pbnQgKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDb250cm9sUG9pbnQoXG4gICAgICAgICAgICAgICAgZXZcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMuZlNlbGVjdGVkICkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNlbGVjdGVkKFxuICAgICAgICAgICAgICAgICAgICBldlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdGZWVkYmFjayhcbiAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICBldlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZHJhd0ZlZWRiYWNrKFxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgucmVjdChcbiAgICAgICAgICAgIHRoaXMuZXZEb3duLm9mZnNldFgsIFxuICAgICAgICAgICAgdGhpcy5ldkRvd24ub2Zmc2V0WSxcbiAgICAgICAgICAgIGV2Lm9mZnNldFggLSB0aGlzLmV2RG93bi5vZmZzZXRYLCBcbiAgICAgICAgICAgIGV2Lm9mZnNldFkgLSB0aGlzLmV2RG93bi5vZmZzZXRZXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcHJvY2Vzc01vdXNlVXAoKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBpZiAoIHRoaXMuZlNlbGVjdGVkIHx8IHRoaXMuZkN0cmxQb2ludCApIHtcbiAgICAgICAgICAgIC8vIG1vdmluZyBvciByZXNpemluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCB0aGlzLmVxdWFsKCB0aGlzLmV2RG93biwgdGhpcy5ldlVwICkgKSB7XG4gICAgICAgICAgICAgICAgLy8gcG9pbnQgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgYXBwLnNlbGVjdChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldlVwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJvdW5kIGJveCBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICBhcHAuc2VsZWN0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2RG93bixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldlVwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYW5VcCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjbGVhblVwKCkge1xuICAgICAgICB0aGlzLmZTZWxlY3RlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuZkN0cmxQb2ludCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1vdmVTZWxlY3RlZChcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5mU2VsZWN0ZWRcbiAgICAgICAgICAgIC5tb3ZlKFxuICAgICAgICAgICAgICAgIGV2Lm9mZnNldFggLSB0aGlzLmV2RG93bi5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIGV2Lm9mZnNldFkgLSB0aGlzLmV2RG93bi5vZmZzZXRZXG4gICAgICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5ldkRvd24gPSBldjtcbiAgICAgICAgYXBwLm1vdmUoKTtcbiAgICB9IFxuXG4gICAgcHJvdGVjdGVkIG1vdmVDb250cm9sUG9pbnQoXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5mQ3RybFBvaW50XG4gICAgICAgICAgICAubW92ZShcbiAgICAgICAgICAgICAgICBldi5vZmZzZXRYIC0gdGhpcy5ldkRvd24ub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICBldi5vZmZzZXRZIC0gdGhpcy5ldkRvd24ub2Zmc2V0WSxcbiAgICAgICAgICAgICAgICB0aGlzLmZTZWxlY3RlZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmV2RG93biA9IGV2O1xuICAgICAgICBhcHAubW92ZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tICcuLi9jb250cm9sbGVyL2FwcCc7XHJcblxyXG5pbXBvcnQgeyBNZW51SGVscGVyIH0gZnJvbSAnLi9tZW51LWhlbHBlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbldpbmRvdyBpbXBsZW1lbnRzIERyYXdpbmdMaXN0ZW5lcntcclxuICAgIHBhc3RlKCkge1xyXG4gICAgICAgIGxldCBmaWd1cmVzPWFwcC5nZXRDb3BpZWRGaWd1cmVzKClcclxuICAgICAgICBmaWd1cmVzLmZvckVhY2goKGY6RmlndXJlKT0+e3RoaXMuZmVlZGJhY2suY3JlYXRlRmlndXJlKGYpO30pO1xyXG4gICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8vIE5FVyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBwcml2YXRlIG1lbnU6IE1lbnVIZWxwZXI7XHJcbiAgICAvLyBORVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgY2FudmFzOiBEcmF3aW5nQ2FudmFzO1xyXG4gICAgcHJpdmF0ZSBmZWVkYmFjazogRmVlZGJhY2tDYW52YXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1lbnVIZWxwZXIoKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBEcmF3aW5nQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFjayA9IG5ldyBGZWVkYmFja0NhbnZhcygpO1xyXG4gICAgfVxyXG4gICAgb25EcmF3aW5nQ2hhbmdlKGV2OiBEcmF3aW5nRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMucmVwYWludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFjdGl2ZVRvb2woKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZGJhY2suZ2V0QWN0aXZlVG9vbCgpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhcHA6IEFwcCA9IEFwcC5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMubWVudVxyXG4gICAgICAgICAgICAuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhc1xyXG4gICAgICAgICAgICAuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2tcclxuICAgICAgICAgICAgLmluaXQoKTtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2woTElORV9DUkVBVElPTikgICBcclxuICAgICAgICBhcHAuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGV4dCgpOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc1xyXG4gICAgICAgICAgICAuZ2V0Q29udGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZlZWRiYWNrKCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZGJhY2tcclxuICAgICAgICAgICAgLmdldENvbnRleHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckZlZWRiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2tcclxuICAgICAgICAgICAgLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q3Vyc29yKFxyXG4gICAgICAgIGN1cnNvcjogc3RyaW5nICk6IHZvaWQge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmZlZWRiYWNrXHJcbiAgICAgICAgICAgIC5zZXRDdXJzb3IoXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAvLyBORVdcclxuICAgIHNldEFjdGl2ZVRvb2woIFxyXG4gICAgICAgIHQ6IG51bWJlciApIHtcclxuXHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1xyXG4gICAgICAgICAgICAuc2V0QWN0aXZlVG9vbChcclxuICAgICAgICAgICAgICAgIHRcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gbW9kdWxlIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmFic3RyYWN0IGNsYXNzIENhbnZhcyB7XHJcblxyXG4gICAgYWJzdHJhY3QgaW5pdCgpOiB2b2lkO1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgaHRtbEVsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgUEFHRV9XSURUSDogbnVtYmVyID0gMjAwMDtcclxuICAgIHN0YXRpYyByZWFkb25seSBQQUdFX0hFSUdIVDogbnVtYmVyID0gMjAwMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2NhbnZhcydcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQud2lkdGggPSBDYW52YXMuUEFHRV9XSURUSDtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmhlaWdodCA9IENhbnZhcy5QQUdFX0hFSUdIVDtcclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5sZWZ0ICAgPSAnMCc7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS50b3AgICAgPSAnMjhweCc7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS53aWR0aCAgPSBgJHtDYW52YXMuUEFHRV9XSURUSH1weGA7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtDYW52YXMuUEFHRV9IRUlHSFR9cHhgO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgICAnY29udGVudCdcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnRlbnQuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOyBcclxuICAgICAgICBjb250ZW50LnN0eWxlLmxlZnQgPSAnMCc7IFxyXG4gICAgICAgIGNvbnRlbnQuc3R5bGUudG9wID0gJzAnOyBcclxuICAgICAgICBjb250ZW50LnN0eWxlLndpZHRoID0gYCR7Q2FudmFzLlBBR0VfV0lEVEh9cHhgO1xyXG4gICAgICAgIGNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7Q2FudmFzLlBBR0VfSEVJR0hUfXB4YDtcclxuXHJcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCggXHJcbiAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQgXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmh0bWxFbGVtZW50XHJcbiAgICAgICAgICAgIC5nZXRDb250ZXh0KFxyXG4gICAgICAgICAgICAgICAgJzJkJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgZ2V0Q29udGV4dCgpOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHRtbEVsZW1lbnQud2lkdGg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5odG1sRWxlbWVudC5oZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIERyYXdpbmdDYW52YXMgXHJcbiAgICBleHRlbmRzIENhbnZhcyBpbXBsZW1lbnRzIERyYXdpbmdMaXN0ZW5lcntcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR1JJRF9TSVpFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR1JJRF9DT0xPUjogc3RyaW5nID0gJyNEREQwREQnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBvbkRyYXdpbmdDaGFuZ2UoZXY6IERyYXdpbmdFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmKGV2IT1EcmF3aW5nRXZlbnQuU0FWRSl7XHJcbiAgICAgICAgICAgIHRoaXMucmVwYWludCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGFwcDogQXBwID0gQXBwLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZBRkFGQSc7XHJcbiAgICAgICAgYXBwLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuIFxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpbnQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kcmF3R3JpZChcclxuICAgICAgICAgICAgdGhpcy5jdHhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBBcHAuZ2V0SW5zdGFuY2UoKVxyXG4gICAgICAgICAgICAucGFpbnQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXIoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCggMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXdHcmlkKFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCApOiB2b2lkIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgKCBjdHggKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoXHJcbiAgICAgICAgICAgICAgICBjdHhcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBEcmF3aW5nQ2FudmFzLkdSSURfQ09MT1I7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiB1c2UgZG9jdW1lbnQgc2l6ZVxyXG4gICAgICAgICAgICBjb25zdCBudW1WZXJ0aWNhbHM6IG51bWJlciA9IHRoaXMud2lkdGggLyBEcmF3aW5nQ2FudmFzLkdSSURfU0laRTtcclxuICAgICAgICAgICAgY29uc3QgbnVtSG9yaXpvbnRhbHM6IG51bWJlciA9IHRoaXMuaGVpZ2h0IC8gRHJhd2luZ0NhbnZhcy5HUklEX1NJWkU7XHJcblxyXG4gICAgICAgICAgICAvLyB2ZXJ0aWNhbHNcclxuICAgICAgICAgICAgZm9yICggbGV0IHY6IG51bWJlciA9IDE7IHYgPCBudW1WZXJ0aWNhbHM7IHYrKyApIHtcclxuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oIFxyXG4gICAgICAgICAgICAgICAgICAgIHYgKiBEcmF3aW5nQ2FudmFzLkdSSURfU0laRSwgXHJcbiAgICAgICAgICAgICAgICAgICAgMCBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgIHYgKiBEcmF3aW5nQ2FudmFzLkdSSURfU0laRSwgXHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLlBBR0VfSEVJR0hUIFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaG9yaXpvbnRhbHNcclxuICAgICAgICAgICAgZm9yICggbGV0IGg6IG51bWJlciA9IDE7IGggPCBudW1Ib3Jpem9udGFsczsgaCsrICkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyggXHJcbiAgICAgICAgICAgICAgICAgICAgMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgaCAqIERyYXdpbmdDYW52YXMuR1JJRF9TSVpFIFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oXHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLlBBR0VfV0lEVEgsIFxyXG4gICAgICAgICAgICAgICAgICAgIGggKiBEcmF3aW5nQ2FudmFzLkdSSURfU0laRSBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaW1wb3J0IHsgTGluZUNyZWF0aW9uVG9vbCB9IGZyb20gJy4vbGluZS1jcmVhdGlvbi10b29sJztcclxuaW1wb3J0IHsgUmVjdENyZWF0aW9uVG9vbCB9IGZyb20gJy4vcmVjdGFuZ2xlLWNyZWF0aW9uLXRvb2wnO1xyXG5pbXBvcnQgeyBFbGxpQ3JlYXRpb25Ub29sIH0gZnJvbSAnLi9lbGxpcHNlLWNyZWF0aW9uLXRvb2wnO1xyXG5pbXBvcnQgeyBUZXh0Q3JlYXRpb25Ub29sIH0gZnJvbSAnLi90ZXh0LWNyZWF0aW9uLXRvb2wnO1xyXG5pbXBvcnQgeyBTZWxlY3Rpb25Ub29sIH0gZnJvbSAnLi9zZWxlY3Rpb24tdG9vbCc7XHJcbmltcG9ydCB7IFRvb2wgfSBmcm9tICcuL3Rvb2wnO1xyXG5pbXBvcnQgeyBEcmF3aW5nTGlzdGVuZXIgfSBmcm9tICcuLi9tb2RlbC9kcmF3aW5nJztcclxuaW1wb3J0IHsgRHJhd2luZ0V2ZW50IH0gZnJvbSAnLi4vbW9kZWwvZHJhd2luZy1saXN0ZW5lcnMnO1xyXG5pbXBvcnQgYXBwIGZyb20gJy4uL2luZGV4JztcclxuaW1wb3J0IHsgRmlndXJlIH0gZnJvbSAnLi4vbW9kZWwvZmlndXJlJztcclxuXHJcbi8vIE5FV1xyXG5leHBvcnQgY29uc3QgTElORV9DUkVBVElPTjogbnVtYmVyID0gMDtcclxuZXhwb3J0IGNvbnN0IFJFQ1RfQ1JFQVRJT046IG51bWJlciA9IDE7XHJcbmV4cG9ydCBjb25zdCBFTExJX0NSRUFUSU9OOiBudW1iZXIgPSAyO1xyXG5leHBvcnQgY29uc3QgVEVYVF9DUkVBVElPTjogbnVtYmVyID0gMztcclxuZXhwb3J0IGNvbnN0IFNFTEVDVElPTjogICAgIG51bWJlciA9IDQ7XHJcblxyXG5jbGFzcyBGZWVkYmFja0NhbnZhcyBcclxuICAgIGV4dGVuZHMgQ2FudmFzIHtcclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlPWZhbHNlXHJcbiAgICAgICAgcHJvdGVjdGVkIGZpZ3VyZTpGaWd1cmU7XHJcbiAgICBjcmVhdGVGaWd1cmUoZjogRmlndXJlKSB7XHJcbiAgICAgICAgdGhpcy5maWd1cmU9ZjtcclxuICAgICAgICB0aGlzLmNyZWF0ZT10cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG9vbHM6IFRvb2xbXSA9IFtcclxuICAgIF07XHJcbiAgICBwcml2YXRlIGFjdGl2ZVRvb2w6IFRvb2w7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIGdldEFjdGl2ZVRvb2woKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVG9vbC5nZXROYW1lLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkVG9vbHMoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBORVdcclxuXHJcbiAgICAgICAgLy8gVE9ETzogcmVnaXN0ZXIgZm9yIG1vdXNlIGV2ZW50c1xyXG4gICAgICAgIC8vIGRvd24sIHVwLCBtb3ZlLCBkcmFnLCBkb3VibGVjbGlja1xyXG4gICAgICAgIC8vIGVudGVyLCBleGl0XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdtb3VzZWRvd24nLCBcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd25cclxuICAgICAgICAgICAgICAgIC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFxyXG4gICAgICAgICAgICAnbW91c2V1cCcsIFxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXBcclxuICAgICAgICAgICAgICAgIC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdtb3VzZXVwJywgXHJcbiAgICAgICAgICAgIHRoaXMucGFzdGVNb3VzZVxyXG4gICAgICAgICAgICAgICAgLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIE5FV1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdtb3VzZW1vdmUnLCBcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmVcclxuICAgICAgICAgICAgICAgIC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBORVdcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdrZXlkb3duJywgXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5UHJlc3NlZFxyXG4gICAgICAgICAgICAgICAgLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aXZlVG9vbCggXHJcbiAgICAgICAgdDogbnVtYmVyICkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYFRPT0wgPT4gJHt0fWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbCA9IHRoaXMudG9vbHNbXHJcbiAgICAgICAgICAgIHRcclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEFwcC5nZXRJbnN0YW5jZSgpXHJcbiAgICAgICAgICAgIC5zZXREb2N1bWVudFRpdGxlKCcnLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUb29sXHJcbiAgICAgICAgICAgICAgICAgICAgLmdldE5hbWUoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gdGhpcy5nZXRDb250ZXh0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3R4XHJcbiAgICAgICAgICAgIC5jbGVhclJlY3QoIFxyXG4gICAgICAgICAgICAgICAgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIHNldEN1cnNvcihcclxuICAgICAgICBjdXJzb3I6IHN0cmluZyApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudFxyXG4gICAgICAgICAgICAuc3R5bGVcclxuICAgICAgICAgICAgLmN1cnNvciA9IGN1cnNvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIG1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gVE9ETzogYWRkIHJlbWFpbmluZyB0b29sc1xyXG4gICAgcHJpdmF0ZSBidWlsZFRvb2xzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLnRvb2xzWyBMSU5FX0NSRUFUSU9OIF0gPSBuZXcgTGluZUNyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIHRoaXMudG9vbHNbIFJFQ1RfQ1JFQVRJT04gXSA9IG5ldyBSZWN0Q3JlYXRpb25Ub29sKCk7XHJcbiAgICAgICAgdGhpcy50b29sc1sgRUxMSV9DUkVBVElPTiBdID0gbmV3IEVsbGlDcmVhdGlvblRvb2woKTtcclxuICAgICAgICB0aGlzLnRvb2xzWyBURVhUX0NSRUFUSU9OIF0gPSBuZXcgVGV4dENyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudG9vbHNbIFNFTEVDVElPTiBdID0gbmV3IFNlbGVjdGlvblRvb2woKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGF0ZSBQYXR0ZXJuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlRG93bihcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKGV2Lnk+MjgpXHJcbiAgICAgICB7IHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZURvd24oXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO31cclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFzdGVNb3VzZShcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKGV2Lnk+MjgpXHJcbiAgICAgICB7IHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZU1vdmUoXHJcbiAgICAgICAgICAgICAgICBldiwgdGhpcy5maWd1cmVcclxuICAgICAgICAgICAgKTt9XHJcbiAgICB9XHJcbiAgICAvLyBTdGF0ZSBQYXR0ZXJuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZVVwKFxyXG4gICAgICAgICAgICAgICAgZXZcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlTW92ZShcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZU1vdmUoXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlS2V5UHJlc3NlZChcclxuICAgICAgICBrZTogS2V5Ym9hcmRFdmVudCApOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhrZS5jb2RlKTtcclxuICAgICAgICBpZiAoa2UuY3RybEtleSl7XHJcbiAgICAgICAgICAgIGtlLnByZXZlbnREZWZhdWx0KCk7ICBcclxuICAgICAgICAgICAgaWYoa2UuY29kZT09J0tleVMnKXtcclxuICAgICAgICAgICAgICAgIGFwcC5zYXZlKCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGtlLmNvZGU9PSdLZXlIJyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuZ3JvdXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmICgga2UuY29kZSA9PT0gJ0tleUwnICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVRvb2woTElORV9DUkVBVElPTik7XHJcbiAgICAgICAgfWVsc2UgaWYgKCBrZS5jb2RlID09PSAnS2V5UicgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbChSRUNUX0NSRUFUSU9OKTsgXHJcbiAgICAgICAgfWVsc2UgaWYgKCBrZS5jb2RlID09PSAnS2V5RScgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbChFTExJX0NSRUFUSU9OKTsgXHJcbiAgICAgICAgfWVsc2UgaWYgKCBrZS5jb2RlID09PSAnS2V5VCcgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbChURVhUX0NSRUFUSU9OKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBrZS5jb2RlID09PSAnS2V5UycgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbChTRUxFQ1RJT04pOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gJy4uL2FwaS9hcGktc2VydmljZSc7XHJcbmltcG9ydCB7IENvbnRyb2xQb2ludCB9IGZyb20gJy4uL21vZGVsL2NvbnRyb2wtcG9pbnQnO1xyXG5pbXBvcnQgeyBEcmF3aW5nLCBEcmF3aW5nTGlzdGVuZXIgfSBmcm9tICcuLi9tb2RlbC9kcmF3aW5nJztcclxuaW1wb3J0IHsgRHJhd2luZ0V2ZW50IH0gZnJvbSAnLi4vbW9kZWwvZHJhd2luZy1saXN0ZW5lcnMnO1xyXG5pbXBvcnQgeyBGaWd1cmUgfSBmcm9tICcuLi9tb2RlbC9maWd1cmUnO1xyXG5pbXBvcnQgeyBNYWluV2luZG93IH0gZnJvbSAnLi4vdmlldy9tYWluLXdpbmRvdyc7XHJcbmltcG9ydCB7IEFwcEV2ZW50IH0gZnJvbSAnLi9hcHAtbGlzdGVuZXInO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcHBMaXN0ZW5lciB7XHJcbiAgICBvbkFwcENoYW5nZSggZXY6IEFwcEV2ZW50ICk6IHZvaWQ7XHJcbiAgICAgICAgXHJcbn1cclxuLy8gU2luZ2xldG9uID0+IEltbXV0YWJsZVxyXG5leHBvcnQgY2xhc3MgQXBwIGltcGxlbWVudHMgRHJhd2luZ0xpc3RlbmVye1xyXG4gICAgZ2V0Q29waWVkRmlndXJlcygpOkZpZ3VyZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3aW5nLmdldENvcGllZEZpZ3VyZXMoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiBBcHBMaXN0ZW5lcltdID0gW1xyXG4gICAgXTtcclxuICAgIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKFxyXG4gICAgICAgIGFlOiBBcHBFdmVudCApIHtcclxuICBcclxuICAgICAgICB0aGlzLmxpc3RlbmVyc1xyXG4gICAgICAgICAgICAuZm9yRWFjaCggKGFsOiBBcHBMaXN0ZW5lcikgPT5cclxuICAgICAgICAgICAgICAgIGFsLm9uQXBwQ2hhbmdlKCBcclxuICAgICAgICAgICAgICAgICAgICBhZSBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuICAgICBcclxuICAgIGFkZExpc3RlbmVyQXBwKFxyXG4gICAgICAgIGFsOiBBcHBMaXN0ZW5lciApOiB2b2lkIHtcclxuICBcclxuICAgICAgICBpZiAoIGFsICkgdGhpcy5saXN0ZW5lcnNcclxuICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICBhbFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcmVtTGlzdGVuZXIoXHJcbiAgICAgICAgYWw6IEFwcExpc3RlbmVyICk6IHZvaWQge1xyXG4gICAgICAgIGlmKGFsKSB0aGlzLmxpc3RlbmVycz10aGlzLmxpc3RlbmVycy5maWx0ZXIoZT0+IGUhPWFsKTtcclxuICAgIH1cclxuICAgIGdldERvY3VtZW50TmFtZSgpOnN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XHJcbiAgICB9XHJcbiAgICBvcGVuRG9jdW1lbnQoZG9jdW1lbnQ6c3RyaW5nKTogYW55IHtcclxuICAgICAgICB0aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLm9wZW4oXHJcbiAgICAgICAgICAgICAgICBBcHAuX01ZX0lEXyxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50ICAgICAgICAvLyBUT0RPICM1NTogbGV0IHRoZSB1c2VyIHNwZWNpZnkgdGhpcyBuYW1lICBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnRpdGxlPWRvY3VtZW50O1xyXG4gICAgfVxyXG4gICAgdW5ncm91cCgpOiBhbnkge1xyXG4gICAgICAgIHRoaXMuZHJhd2luZy51bkdyb3VwKCk7XHJcbiAgICB9XHJcbiAgICBjdXQoKTogYW55IHtcclxuICAgICAgICB0aGlzLmRyYXdpbmcuY3V0KCk7XHJcbiAgICB9XHJcbiAgICBwYXN0ZSgpOiBhbnkge1xyXG4gICAgICAgIHRoaXMubWFpbldpbmRvdy5wYXN0ZSgpO1xyXG4gICAgfVxyXG4gICAgY29weSgpOiBhbnkge1xyXG4gICAgICAgdGhpcy5kcmF3aW5nLmNvcHkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbnVtU2VsZWN0ZWQoKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBTZWxlY3RlZCA9IHRoaXMuZHJhd2luZy5udW1TZWxlY3RlZCgpO1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RlZDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBBcHA7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3aW5nOiBEcmF3aW5nO1xyXG4gICAgcHJpdmF0ZSBtYWluV2luZG93OiBNYWluV2luZG93O1xyXG4gICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZHJhd2luZyA9IG5ldyBEcmF3aW5nKCk7XHJcbiAgICAgICAgdGhpcy5tYWluV2luZG93ID0gbmV3IE1haW5XaW5kb3coKTtcclxuXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IGRvY3VtZW50LnRpdGxlID0gJ0dyYXBoaWNzIEVkaXRvciB2MC4xNCc7XHJcbiAgICAgICAgLy8gdGhpcy5kcmF3aW5nLmFkZFRlc3RGaWd1cmVzKCk7XHJcbiAgICB9XHJcbiAgICBvbkRyYXdpbmdDaGFuZ2UoZXY6IERyYXdpbmdFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmKGV2PT1EcmF3aW5nRXZlbnQuTE9BRCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RG9jdW1lbnRUaXRsZSgnJywnJyk7XHJcbiAgICAgICAgfWVsc2UgaWYoZXYhPURyYXdpbmdFdmVudC5TQVZFKXtcclxuICAgICAgICAgICAgdGhpcy5zZXREb2N1bWVudFRpdGxlKCcqJywnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGxhenkgaW5pdGlhbGl6YXRpb24gKHByZWZlcnJlZClcclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBBcHAge1xyXG4gICAgICAgIGlmICggQXBwLmluc3RhbmNlICkge1xyXG4gICAgICAgICAgICAvLyBOT09QXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBBcHAuaW5zdGFuY2UgPSBuZXcgQXBwKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gQXBwLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1haW5XaW5kb3cuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuZHJhd2luZy5ydW4oKTtcclxuICAgIH1cclxuICAgIGFkZExpc3RlbmVyKGRsOiBEcmF3aW5nTGlzdGVuZXIpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5kcmF3aW5nLmFkZExpc3RlbmVyKGRsKTtcclxuICAgIH1cclxuICAgIC8vIGZyb20gbW9kZWwgdG8gdmlldyBcclxuXHJcblxyXG4gICAgLy8gZnJvbSB2aWV3IHRvIG1vZGVsXHJcbiAgICBwYWludChcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgIC5wYWludChcclxuICAgICAgICAgICAgICAgIGN0eFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdCggXHJcbiAgICAgICAgZXZEb3duOiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIGV2VXA/OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLnNlbGVjdChcclxuICAgICAgICAgICAgICAgIGV2RG93bixcclxuICAgICAgICAgICAgICAgIGV2VXBcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuICAgIG1vdmUoKXtcclxuICAgICAgICB0aGlzLmRyYXdpbmcubW92ZSgpO1xyXG5cclxuICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICBhZGRGaWd1cmUoXHJcbiAgICAgICAgZjogRmlndXJlICk6IHZvaWQge1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgIC5hZGRGaWd1cmUoXHJcbiAgICAgICAgICAgICAgICBmICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgZ3JvdXAoKTogYW55IHtcclxuICAgICAgICB0aGlzLmRyYXdpbmcuZ3JvdXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3RpdmVUb29sKCBcclxuICAgICAgICB0OiBudW1iZXIgKSB7XHJcblxyXG4gICAgICAgIHRoaXMubWFpbldpbmRvd1xyXG4gICAgICAgICAgICAuc2V0QWN0aXZlVG9vbChcclxuICAgICAgICAgICAgICAgIHRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhBcHBFdmVudC5TRVRfVE9PTClcclxuICAgIH1cclxuICAgIGdldEFjdGl2ZVRvb2woKTpzdHJpbmd7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbldpbmRvdy5nZXRBY3RpdmVUb29sKCk7XHJcbiAgICB9XHJcbiAgICBzZXREb2N1bWVudFRpdGxlKEJlZm9yZTpzdHJpbmcsYWZ0ZXI6c3RyaW5nKXtcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IEJlZm9yZSt0aGlzLnRpdGxlKyctJythZnRlcjtcclxuICAgIH1cclxuICAgIGdldEdyYXBoaWNzQ29udGV4dCgpOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1haW5XaW5kb3dcclxuICAgICAgICAgICAgLmdldENvbnRleHQoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0RmVlZGJhY2tDb250ZXh0KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbldpbmRvd1xyXG4gICAgICAgICAgICAuZ2V0RmVlZGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckZlZWRiYWNrQ29udGV4dCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1haW5XaW5kb3dcclxuICAgICAgICAgICAgLmNsZWFyRmVlZGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIHNldEN1cnNvcihcclxuICAgICAgICBjdXJzb3I6IHN0cmluZyApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYWluV2luZG93XHJcbiAgICAgICAgICAgIC5zZXRDdXJzb3IoXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb250cm9sUG9pbnQoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogQ29udHJvbFBvaW50IHtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgIC5nZXRDb250cm9sUG9pbnQoXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlbGVjdGVkRmlndXJlKFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IEZpZ3VyZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd2luZ1xyXG4gICAgICAgICAgICAuZ2V0U2VsZWN0ZWRGaWd1cmUoXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZHJhd2luZ1xyXG4gICAgICAgICAgICAuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgX01ZX0lEXzogc3RyaW5nID0gJzEwMDc2NTEyNjQnO1xyXG5cclxuICAgIHRlc3RCYWNrRW5kKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVzdFNlcnZsZXQoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIHNhdmVhcygpOlByb21pc2U8dm9pZD57XHJcbiAgICAgICAgdGhpcy50aXRsZT1wcm9tcHQoJ05vbWJyZSBkZWwgZG9jdW1lbnRvJyk7XHJcbiAgICAgICAgdmFyIGZuYW1lcz10aGlzLmRyYXdpbmcubGlzdChBcHAuX01ZX0lEXyk7XHJcbiAgICAgICAgdmFyIGV4aXN0ZTpCb29sZWFuPWZhbHNlO1xyXG4gICAgICAgIHZhciBkYXRlPXRoaXMuYWN0dWFsRGF0ZS50b1N0cmluZygpO1xyXG4gICAgICAgIGRve1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhleGlzdGUpO1xyXG4gICAgICAgICAgICAoYXdhaXQgZm5hbWVzKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQ9PXRoaXMudGl0bGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0ZT10cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYodGhpcy50aXRsZT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICBleGlzdGU9ZmFsc2VcclxuICAgICAgICAgICAgfWVsc2UgaWYoZXhpc3RlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMudGl0bGU9cHJvbXB0KCdBcmNoaXZvIEV4aXN0ZW50ZVxcbkluZ3Jlc2Ugb3RybyBub21icmUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9d2hpbGUoZXhpc3RlKVxyXG4gICAgICAgIGlmICh0aGlzLnRpdGxlIT1udWxsKXtcclxuICAgICAgICAgICAgdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgIC5zYXZlKFxyXG4gICAgICAgICAgICAgICAgQXBwLl9NWV9JRF8sXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGF0ZSAgICAgICAgIC8vIFRPRE8gIzU1OiBsZXQgdGhlIHVzZXIgc3BlY2lmeSB0aGlzIG5hbWUgIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIC50aGVuKCAocjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCByICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9LXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQXBwOjpzYXZlKCkgPT4gRkFJTEVEJ1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfVxyXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAodGhpcy50aXRsZT09J0dyYXBoaWNzIEVkaXRvciB2MC4xNCcpe1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVhcygpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgZGF0ZT10aGlzLmFjdHVhbERhdGUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGl0bGUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgICAgICAuc2F2ZShcclxuICAgICAgICAgICAgICAgICAgICBBcHAuX01ZX0lEXyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGUgICAgICAgICAgIC8vIFRPRE8gIzU1OiBsZXQgdGhlIHVzZXIgc3BlY2lmeSB0aGlzIG5hbWUgIFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oIChyOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCByICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPS1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBcHA6OnNhdmUoKSA9PiBGQUlMRUQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhY3R1YWxEYXRlKCk6RGF0ZXtcclxuICAgICAgICBjb25zdCB0aWVtcG9UcmFuc2N1cnJpZG8gPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGhveSA9IG5ldyBEYXRlKHRpZW1wb1RyYW5zY3VycmlkbyApO1xyXG4gICAgICAgIHJldHVybiBob3k7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbGlzdCgpOiBQcm9taXNlPHN0cmluZ1tdPntcclxuICAgICAgICB2YXIgRG9jdW1lbnRvcz10aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLmxpc3QoXHJcbiAgICAgICAgICAgICAgICBBcHAuX01ZX0lEX1xyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIC50aGVuKCAoZm5hbWVzOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGk9MFxyXG4gICAgICAgICAgICAgICAgaWYgKCBmbmFtZXMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuYW1lc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ0RyYXdpbmc6Omxpc3QoKSA9PiBGQUlMRUQnXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIERvY3VtZW50b3M7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAvLyAxLiBsaXN0IGZpbGUgbmFtZXNcclxuICAgICAgICB2YXIgZm5hbWVzPXRoaXMubGlzdCgpO1xyXG4gICAgICAgIHZhciB2YWNpbzpCb29sZWFuPXRydWU7XHJcbiAgICAgICAgdmFyIGFjdHVhbE5hbWU9dGhpcy50aXRsZTtcclxuICAgICAgICB2YXIgbmFtZUluZGV4OnN0cmluZztcclxuICAgICAgICAvLyAyLiBsZXQgdGhlIHVzZXIgY2hvb3NlIG9uZVxyXG4gICAgICAgIGRveyAgICAgXHJcbiAgICAgICAgICAgIHZhciBuYW1lczpzdHJpbmc9J0xpc3RhIGRlIERvY3VtZW50b3M6JztcclxuICAgICAgICAgICAgKGF3YWl0IGZuYW1lcykuZm9yRWFjaCgoZWxlbWVudCxpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZXMrPSdcXG4nK2luZGV4KycgJytlbGVtZW50XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIG5hbWVJbmRleD1wcm9tcHQobmFtZXMpO1xyXG4gICAgICAgICAgICB2YXIgIG5pbmRleDpudW1iZXI9TnVtYmVyKG5hbWVJbmRleClcclxuICAgICAgICAgICAgaWYgKG5pbmRleCE9KGF3YWl0IGZuYW1lcykubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHZhY2lvPWZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy50aXRsZT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB2YWNpbz1mYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH13aGlsZSh2YWNpbylcclxuICAgICAgICAvLyAzLiB1c2UgbmFtZSBjaG9zZW5cclxuICAgICAgICBkb3tcclxuICAgICAgICAgICAgKGF3YWl0IGZuYW1lcykuZm9yRWFjaCgoZWxlbWVudCxpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoaW5kZXg9PW5pbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZT1lbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9d2hpbGUodmFjaW8pXHJcbiAgICAgICAgdGhpcy5kcmF3aW5nXHJcbiAgICAgICAgICAgIC5vcGVuKFxyXG4gICAgICAgICAgICAgICAgQXBwLl9NWV9JRF8sXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlICAgICAgICAgLy8gVE9ETyAjNTU6IGxldCB0aGUgdXNlciBzcGVjaWZ5IHRoaXMgbmFtZSAgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIGRvY3VtZW50LnRpdGxlPXRoaXMudGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBkZXNlbGVjdEFsbCgpIHtcclxuICAgICAgICB0aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLmRlc2VsZWN0QWxsKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgbWVtYmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIHRlc3RTZXJ2bGV0KCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGFwaTogQXBpU2VydmljZSA9IEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgYXBpLmdldChcclxuICAgICAgICApXHJcbiAgICAgICAgLnRoZW4oIChyZWFkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICAgICAgICBgQXBwOjp0ZXN0KCk6IEdFVCA9PiAke3JlYWR9YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICAgICAgICBgQXBwOjp0ZXN0KCk6IEVSUk9SID0+ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSAnLi9jb250cm9sbGVyL2FwcCc7XHJcblxyXG5jb25zdCBhcHAgPSBBcHAuZ2V0SW5zdGFuY2UoKTtcclxuYXBwLnJ1bigpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9